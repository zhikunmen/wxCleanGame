var egret=window.egret,__reflect=this&&this.__reflect||function(e,t,i){e.__class__=t,i?i.push(t):i=[t],e.__types__=e.__types__?i.concat(e.__types__):i},__extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);i.prototype=t.prototype,e.prototype=new i},JSONParseClass=function(){function e(){this.skinClass={},this.euiNormalizeNames={$eBL:"eui.BitmapLabel",$eB:"eui.Button",$eCB:"eui.CheckBox",$eC:"eui.Component",$eDG:"eui.DataGroup",$eET:"eui.EditableText",$eG:"eui.Group",$eHL:"eui.HorizontalLayout",$eHSB:"eui.HScrollBar",$eHS:"eui.HSlider",$eI:"eui.Image",$eL:"eui.Label",$eLs:"eui.List",$eP:"eui.Panel",$ePB:"eui.ProgressBar",$eRB:"eui.RadioButton",$eRBG:"eui.RadioButtonGroup",$eRa:"eui.Range",$eR:"eui.Rect",$eRAl:"eui.RowAlign",$eS:"eui.Scroller",$eT:"eui.TabBar",$eTI:"eui.TextInput",$eTL:"eui.TileLayout",$eTB:"eui.ToggleButton",$eTS:"eui.ToggleSwitch",$eVL:"eui.VerticalLayout",$eV:"eui.ViewStack",$eVSB:"eui.VScrollBar",$eVS:"eui.VSlider",$eSk:"eui.Skin"}}return e.prototype.setData=function(e){this.json=e,this.parseSkinMap(this.json)},e.prototype.generateSkinClass=function(e,t,i){function r(){a.call(this),window.JSONParseClass.create(t,this)}if(!e)return null;for(var s=i.split("."),a=window,n=0,o=s;n<o.length;n++){var p=o[n];a=a[p]}return __extends(r,a),__reflect(r,t,[i]),r},e.prototype.parseSkinMap=function(e){var t={};for(var i in e){var r=e[i];if(r){for(var s=i.split("."),a=window,n=0,o=s;n<o.length;n++){var p=o[n],l=a;p!==s[s.length-1]&&(a=a[p],void 0==a&&(a={},l[p]=a))}var h=void 0==this.euiNormalizeNames[r.$sC]?r.$sC:this.euiNormalizeNames[r.$sC];t[i]=a[s[s.length-1]]=this.generateSkinClass(r,i,h),e[i].$path&&(generateEUI2.paths[e[i].$path]=t[i])}}return t},e.prototype.create=function(e,t){return this.json?(this.target=t,this.skinName=e,this.skinClass=this.json[e],this.applyBase(),this.applySkinParts(),this.applyState(),this.applyBinding(),void(void 0==this.skinClass.$sP?this.target.skinParts=[]:this.target.skinParts=this.skinClass.$sP)):(console.log("Missing json defined by eui resource, please modify the theme adapter"),void console.log("缺少eui资源定义的json，请修改主题适配器"))},e.prototype.applySkinParts=function(){if(void 0!=this.skinClass.$sP)for(var e=0,t=this.skinClass.$sP;e<t.length;e++){var i=t[e];void 0==this.target[i]&&this.createElementContentOrViewport(i)}},e.prototype.applyBase=function(){void 0!=this.skinClass.$bs&&this.addCommonProperty("$bs",this.target)},e.prototype.createElementContentOrViewport=function(e){var t,i=this.getNormalizeEuiName(this.skinClass[e].$t);if("egret.tween.TweenGroup"==i)t=this.creatsEgretTweenGroup(e);else{var r=egret.getDefinitionByName(i);this.$createNewObject(function(){t=new r}),this.addCommonProperty(e,t)}return this.target[e]=t,t},e.prototype.$createNewObject=function(e){var t=this.skinName,i=this.target;e(),this.skinName=t,this.skinClass=this.json[this.skinName],this.target=i},e.prototype.creatsEgretTweenGroup=function(e){for(var t=this.createTypeObject(e),i=[],r=0,s=this.skinClass[e].items;r<s.length;r++){var a=s[r];i.push(this.createEgretTweenItem(a))}return t.items=i,t},e.prototype.createEgretTweenItem=function(e){var t=this,i=this.createTypeObject(e),r=[],s=function(s){var n=a.skinClass[e][s];if("$t"==s||"target"==s);else if("paths"==s)for(var o=0,p=n;o<p.length;o++){var l=p[o];r.push(a.createSetOrTo(l))}else"target"==s?a.$createNewObject(function(){i[s]=t.createElementContentOrViewport(n),t.target[n]=i[s]}):i[s]=n},a=this;for(var n in this.skinClass[e])s(n);return i.paths=r,this.target[e]=i,i},e.prototype.createSetOrTo=function(e){var t=this.createTypeObject(e);for(var i in this.skinClass[e]){var r=this.skinClass[e][i];"$t"==i||"target"==i||("props"==i?(t[i]=this.createObject(r),this.target[r]=t[i]):t[i]=r)}return t},e.prototype.createObject=function(e){var t={};for(var i in this.skinClass[e])"$t"==i||"target"==i||(t[i]=this.skinClass[e][i]);return t},e.prototype.addCommonProperty=function(e,t){var i,r,s=function(s){var n=a.skinClass[e][s];"$t"==s||("layout"==s?t[s]=a.createLayout(n):"$eleC"==s?i=n:"$sId"==s?r=n:"scale9Grid"==s?t[s]=a.getScale9Grid(n):"skinName"==s?a.$createNewObject(function(){t[s]=n}):"itemRendererSkinName"==s?a.$createNewObject(function(){for(var e=n.split("."),i=window,r=0,a=e;r<a.length;r++){var o=a[r];i=i[o]}t[s]=i}):"itemRenderer"==s?t[s]=egret.getDefinitionByName(n):"dataProvider"==s?t[s]=a.createDataProvider(n):"viewport"==s?t[s]=a.createElementContentOrViewport(n):t[s]=n)},a=this;for(var n in this.skinClass[e])s(n);var o=[];if(i&&i.length>0)for(var p=0,l=i;p<l.length;p++){var h=l[p],u=this.createElementContentOrViewport(h);o.push(u)}if(t.elementsContent=o,r&&r.length>0)for(var c=0,g=r;c<g.length;c++){var h=g[c];this.createElementContentOrViewport(h)}return t},e.prototype.createLayout=function(e){var t=this.createTypeObject(e),i=this.skinClass[e];for(var r in i)"$t"!==r&&(t[r]=i[r]);return this.target[e]=t,t},e.prototype.applyState=function(){if(void 0!=this.skinClass.$s){var e=[];for(var t in this.skinClass.$s){var i=[],r=this.skinClass.$s[t];if(r.$saI)for(var s=0,a=r.$saI;s<a.length;s++){var n=a[s];i.push(new eui.AddItems(n.target,n.property,n.position,n.relativeTo))}if(r.$ssP)for(var o=0,p=r.$ssP;o<p.length;o++){var n=p[o];if(n.name){var l=n.value;"scale9Grid"==n.name&&(l=this.getScale9Grid(n.value)),i.push(new eui.SetProperty(n.target,n.name,l))}else i.push(new eui.SetStateProperty(this.target,n.templates,n.chainIndex,this.target[n.target],n.property))}e.push(new eui.State(t,i))}this.target.states=e}},e.prototype.applyBinding=function(){if(void 0!=this.skinClass.$b)for(var e=0,t=this.skinClass.$b;e<t.length;e++){var i=t[e];void 0!==i.$bc?eui.Binding.$bindProperties(this.target,i.$bd,i.$bc,this.target[i.$bt],i.$bp):eui.Binding.bindProperty(this.target,i.$bd[0].split("."),this.target[i.$bt],i.$bp)}},e.prototype.createDataProvider=function(e){if(""!=e){for(var t=this.createTypeObject(e),i=[],r=0,s=this.skinClass[e].source;r<s.length;r++){var a=s[r];i.push(this.createItemRender(a))}return t.source=i,t}},e.prototype.createItemRender=function(e){var t=this.createTypeObject(e);for(var i in this.skinClass[e])"$t"!=i&&(t[i]=this.skinClass[e][i]);return t},e.prototype.getNormalizeEuiName=function(e){return this.euiNormalizeNames[e]?this.euiNormalizeNames[e]:e},e.prototype.createTypeObject=function(e){var t=this.getNormalizeEuiName(this.skinClass[e].$t),i=egret.getDefinitionByName(t);return new i},e.prototype.getScale9Grid=function(e){var t=e.split(",");return new egret.Rectangle(parseFloat(t[0]),parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3]))},e}();window.JSONParseClass=new JSONParseClass,window.generateEUI2={},generateEUI2.paths={},generateEUI2.styles=void 0,generateEUI2.skins={};