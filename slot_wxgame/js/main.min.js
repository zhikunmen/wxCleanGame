var egret=window.egret,__reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},__awaiter=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(o,s){function r(t){try{a(n.next(t))}catch(e){s(e)}}function h(t){try{a(n["throw"](t))}catch(e){s(e)}}function a(t){t.done?o(t.value):new i(function(e){e(t.value)}).then(r,h)}a((n=n.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function i(t){return function(e){return n([t,e])}}function n(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,s&&(r=s[2&i[0]?"return":i[0]?"throw":"next"])&&!(r=r.call(s,i[1])).done)return r;switch(s=0,r&&(i=[0,r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,s=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(r=a.trys,!(r=r.length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(n){i=[6,n],s=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var o,s,r,h,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return h={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h},lhj;!function(t){var e=function(e){function i(t,i){var n=e.call(this)||this;return t&&(n._width=t),i&&(n._height=i),n.initUI(),n.Start(),n}return __extends(i,e),i.prototype.initUI=function(){},i.prototype.setSize=function(t,e){},i.prototype.Start=function(){},i.prototype.destory=function(){t.ResUtil.removeFromParent(this),t.ResUtil.removeAllChildren(this)},i}(egret.DisplayObjectContainer);t.BaseVc=e,__reflect(e.prototype,"lhj.BaseVc")}(lhj||(lhj={}));var lhj;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.initUI=function(){this._initY=-13,this._bg=t.ResUtil.createBitmapByName("da_frame_4"),this._bg.scale9Grid=new egret.Rectangle(20,31,34,15),this._bg.width=577,this._bg.height=482-this._initY,this._bg.y=this._initY+40,this._bg.touchEnabled=!0,this.addChild(this._bg),this._closeBtn=new t.GameButton(["dt_close_btn_1","dt_close_btn_2"]),this._closeBtn.x=this._bg.width-61,this._closeBtn.y=this._bg.y+10,this.addChild(this._closeBtn),this._closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeHandle,this),this.initPanel()},i.prototype.initPanel=function(){},i.prototype.closeHandle=function(e){e.stopPropagation(),this.dispatchEventWith(t.UIEventConsts.CLOSE)},Object.defineProperty(i.prototype,"title",{set:function(e){this.title||(this._title=t.ResUtil.createBitmapByName(e),this._title.y=this._bg.y-6,this._title.x=this._bg.width/2-this._title.width/2,this.addChild(this._title))},enumerable:!0,configurable:!0}),i.prototype.setSize=function(t,e,i){void 0===i&&(i=!1),1==i&&(this._bg.texture=RES.getRes("dt_frame_bg"),this._bg.scale9Grid=new egret.Rectangle(145,212,659,192)),this._bg.width=t,this._bg.height=e-this._initY,this._closeBtn.x=this._bg.width-50,this._closeBtn.y=this._bg.y},i.prototype.hideTitle=function(t){this._title&&(this._title.visible=t)},i.prototype.setCloseBtnPosition=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),null!=t&&(this._closeBtn.x=t),null!=e&&(this._closeBtn.y=e)},i.prototype.setTitlePosition=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),null!=t&&(this._title.x=t),null!=e&&(this._title.y=e)},i.prototype.destory=function(){e.prototype.destory.call(this),this._closeBtn&&(this._closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeHandle,this),this._closeBtn=null),this._bg=null,this._title=null},i}(t.BaseVc);t.BasePanel=e,__reflect(e.prototype,"lhj.BasePanel")}(lhj||(lhj={}));var lhj;!function(t){var e=function(e){function i(){return e.call(this,i.NAME)||this}return __extends(i,e),i.prototype.onRegister=function(){},i.prototype.initServer=function(){var e=Number(uniLib.BrowersUtils.GetRequest("gameId")),i=Number(uniLib.BrowersUtils.GetRequest("zoneId"));(null==t.StaticMgr.getInstance().gameInfo||null==t.StaticMgr.getInstance().gameInfo.zoneInfo)&&(this._config=RES.getRes("lhj_config_json"),console.log(this._config),uniLib.NetMgr.init(this._config.LoginUrl,e?e:this._config.GameID,i?i:this._config.ZoneID,this.onHttpInitSucc,this.onHttpInitFail,this))},i.prototype.onHttpInitSucc=function(t){uniLib.NetMgr.initSocket(this.onSockInitSucc,this.onSockInitFail,this,"","","",!1,!0)},i.prototype.onHttpInitFail=function(e){return e?t.PublicManage.getInstance().showMildWarnShow("游戏登录失败:"+JSON.stringify(e)):t.PublicManage.getInstance().showMildWarnShow("游戏登录失败"),this.facade.sendNotification(t.AppFacadeConst.EXIT_GAME),!0},i.prototype.onSockInitSucc=function(){var e=new Cmd.EnterGameCmd_C;this.sendNotification(t.AppFacadeConst.SEND_DATA,e,t.DataRequestCommand.GAME_DATA)},i.prototype.reLogin=function(){this.onSockInitSucc()},i.prototype.onSockInitFail=function(e){return e?t.PublicManage.getInstance().showMildWarnShow("游戏服务器连接失败:"+JSON.stringify(e)):t.PublicManage.getInstance().showMildWarnShow("游戏服务器连接失败"),this.facade.sendNotification(t.AppFacadeConst.EXIT_GAME),!0},i.prototype.sendData=function(e){t.ResUtil.trace("sendData:"+JSON.stringify(e)),uniLib.NetMgr.tcpSend(e),uniLib.NetMgr.setMsgTimeout(8,"ServerMJProxy.sendData")},i.prototype.onRemove=function(){e.prototype.onRemove.call(this),uniLib.NetMgr.closeSocket(),uniLib.Global.removeEventListener(uniLib.ZqEvent.ON_RECONNEC,this.onSockInitSucc,this)},i.prototype.closeSocket=function(){t.ResUtil.trace("closeSocket"),uniLib.NetMgr.closeSocket()},i.NAME="ServerProxy",i}(puremvc.Proxy);t.ServerProxy=e,__reflect(e.prototype,"lhj.ServerProxy")}(lhj||(lhj={}));var DebugPlatform=function(){function t(){}return t.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,{nickName:"username"}]})})},t.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,i,n){function o(t){e.call(n,t)}function s(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,s,null),i.call(n))}var r=this;"undefined"!=typeof generateEUI?egret.callLater(function(){e.call(n,generateEUI)},this):"undefined"!=typeof generateEUI2?RES.getResByUrl("resource/gameEui.json",function(t,i){window.JSONParseClass.setData(t),egret.callLater(function(){e.call(n,generateEUI2)},r)},this,RES.ResourceItem.TYPE_JSON):(RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,s,null),RES.getResByUrl(t,o,this,RES.ResourceItem.TYPE_TEXT))},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,i){function n(n){e.call(i,n,t)}if(RES.hasRes(t)){var o=RES.getRes(t);o?n(o):RES.getResAsync(t,n,this)}else RES.getResByUrl(t,n,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var lhj;!function(t){var e=function(e){function i(i){var n=e.call(this,i)||this;return n.countGroupError=0,egret.ImageLoader.crossOrigin="anonymous",n._gameInfo&&(t.StaticMgr.getInstance().gameInfo=n._gameInfo),i&&i.destroyResOnExit&&(t.StaticMgr.getInstance().destroyResOnExit=i.destroyResOnExit),n._gameInfo&&n._gameInfo.extData&&(t.StaticMgr.getInstance().extData=n._gameInfo.extData),n}return __extends(i,e),i.prototype.start=function(t){void 0===t&&(t=null);var e={};e.designWidth=1280,e.designHeight=720,e.debug=!0,e.scaleMode=egret.StageScaleMode.FIXED_HEIGHT,uniLib.init(e),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.CONFIG_LOAD_ERROR,this.onLoadError,this);var i="resource/default.res.json";RES.loadConfig(i,"resource/");var n=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",n),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),RES.setMaxLoadingThread(6)},i.prototype.onLoadError=function(t){++this.countGroupError<3?(console.warn("${event.groupName}资源组加载失败，重试第${this.countGroupError}次"),uniLib.ResLoadMgr.instance.load(t.groupName,this.createGameScene,null,this,null)):(console.warn("${event.groupName}资源组加载失败,返回大厅"),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onLoadError,this),uniLib.GameModuleUtils.ExitGame(!1),RES.destroyRes(t.groupName,!0),uniLib.ResUtils.clearResConfigByGroupName([t.groupName]),uniLib.UIMgr.instance.hideLoading())},i.prototype.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var e,i="resource/default.thm.json";e=new eui.Theme(i,this.stage),e.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this)},i.prototype.onThemeLoadComplete=function(){this.preLoadEnd()},i.prototype.loadStartEffect=function(){uniLib.ResLoadMgr.instance.loadGrps(["lhj"],this.loadGameRes,null,this,LoadingUI,!1)},i.prototype.preLoadEnd=function(){this.loadStartEffect()},i.prototype.loadGameRes=function(){this.createGameScene()},i.prototype.createGameScene=function(){t.StaticMgr.getInstance().stageWidth=uniLib.Global.screenWidth,t.StaticMgr.getInstance().stageHeight=uniLib.Global.screenHeight,uniLib.SceneMgr.instance.changeScene(t.LHJGameScene)},i.prototype.resize=function(){},i}(uniLib.GameDoc);t.Main=e,__reflect(e.prototype,"lhj.Main")}(lhj||(lhj={}));var lhj;!function(t){var e=function(e){function i(t,i,n){void 0===i&&(i=null),void 0===n&&(n=!0);var o=e.call(this)||this;return o.name="GameButton",o.srcArr=t,o._label=i,o._autoDestory=n,o.initUI(),o.addEventListener(egret.Event.REMOVED_FROM_STAGE,o.onRemove,o,!0),o}return __extends(i,e),i.prototype.iconTexture=function(e){this.srcArr=e,this._icon.texture=t.ResUtil.createTexture(e[0])},i.prototype.onRemove=function(t){this._autoDestory&&this.destory()},i.prototype.initUI=function(){var e;e=this.srcArr[0],this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this._icon?this._icon.texture=t.ResUtil.createTexture(e):(this._icon=t.ResUtil.createBitmapByName(e),this.addChild(this._icon)),this._label&&(this._labelTxt=t.ResUtil.createTextFeild(16777215,egret.HorizontalAlign.CENTER,this._label,25,0,8,this._icon.width),this.addChild(this._labelTxt))},i.prototype.onTouchBegin=function(e){this._icon.texture=t.ResUtil.createTexture(this.srcArr[1]),egret.MainContext.instance.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this,!0)},i.prototype.onTouchEnd=function(e){egret.MainContext.instance.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this,!0),this._icon.texture=t.ResUtil.createTexture(this.srcArr[0])},i.prototype.addClickArea=function(t){this._area||(this._area=new egret.Sprite,this._area.touchEnabled=!0,this.addChild(this._area)),this._area.graphics.clear(),this._area.graphics.beginFill(16711680,0),this._area.graphics.drawRect(-t,-t,this._icon.width+2*t,this._icon.height+2*t),this._area.graphics.endFill()},i.prototype.destory=function(){this.touchEnabled=!1,egret.MainContext.instance.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this,!0),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemove,this,!0),this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this,!0),t.ResUtil.removeFromParent(this),t.ResUtil.removeAllChildren(this),this._area=null,this._icon=null,this._label=null,this._labelTxt=null},i}(egret.Sprite);t.GameButton=e,__reflect(e.prototype,"lhj.GameButton")}(lhj||(lhj={}));var lhj;!function(t){var e=function(e){function i(i,n,o,s,r,h,a){var l=e.call(this)||this;return l._minValue=1,l._maxValue=10,l._value=1,l.gap=1,l.lastX=0,l.touchX=0,l.width=s,l.track=new egret.Bitmap(RES.getRes(i)),l.thumb=new t.GameButton([n,o]),l.trackHighlight=new egret.Bitmap(RES.getRes(r)),h&&(l.trackHighlight.scale9Grid=h),a&&(l.track.scale9Grid=a),l.addChild(l.track),l.trackHighlight&&l.addChild(l.trackHighlight),l.addChild(l.thumb),l.track.width=l.width,l.track.y=(l.height-l.track.height)/2,l.trackHighlight&&(l.trackHighlight.touchEnabled=!1,l.trackHighlight.y=(l.height-l.trackHighlight.height)/2),l.thumb.y=(l.height-l.thumb.height)/2,l.thumbMaxX=l.width-l.thumb.width,l.thumb.touchEnabled=!0,l.track.touchEnabled=!0,l.thumb.addEventListener(egret.TouchEvent.TOUCH_BEGIN,l.onThumbTouch,l),l.track.addEventListener(egret.TouchEvent.TOUCH_TAP,l.onTrackTouch,l),l}return __extends(i,e),i.prototype.onTrackTouch=function(t){this.updateThumbPos(t.localX-this.thumb.width/2)},i.prototype.onThumbTouch=function(t){this.lastX=t.stageX,this.touchX=this.thumb.x,this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onStageMove,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onStageEnd,this)},i.prototype.onStageMove=function(t){var e=t.stageX-this.lastX;this.updateThumbPos(this.touchX+e)},i.prototype.onStageEnd=function(t){this.stage&&(this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onStageMove,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onStageEnd,this))},Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){this.gap>=1&&(t=Math.floor(t)),t>this._maxValue?t=this._maxValue:t<this._minValue&&(t=this._minValue),this._value!=t&&(this._value=t,this.updatePos())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxValue",{get:function(){return this._maxValue},set:function(t){this._maxValue!=t&&(this._maxValue=t,this.value=this._value)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minValue",{get:function(){return this._minValue},set:function(t){t||(t=0),this._minValue!=t&&(this._minValue=t,this.value=this._value)},enumerable:!0,configurable:!0}),i.prototype.updateThumbPos=function(t){this.thumb.x=t,this.thumb.x<0?this.thumb.x=0:this.thumb.x>this.thumbMaxX&&(this.thumb.x=this.thumbMaxX),this.updateValue()},i.prototype.updateValue=function(){var t=this.thumb.x/this.thumbMaxX,e=this._minValue+t*(this._maxValue-this._minValue);e=Math.floor(e/this.gap)*this.gap,console.log("value",e),this._value!=e&&(this._value=e,this.dispatchEventWith(egret.Event.CHANGE,!1,this._value),console.log("egret.Event.CHANGE")),this.updateTrackHighlight()},i.prototype.updatePos=function(){var t=(this._value-this._minValue)/(this._maxValue-this._minValue);this.thumb.x=this.thumbMaxX*t,this.updateTrackHighlight()},i.prototype.updateTrackHighlight=function(){this.trackHighlight&&(this.trackHighlight.width=this.thumb.x+this.thumb.width/2)},i.prototype.dispose=function(){this.stage&&(this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onStageMove,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onStageEnd,this)),this.track&&t.ResUtil.removeFromParent(this.track),this.track=null,this.thumb&&t.ResUtil.removeFromParent(this.thumb),this.thumb=null,this.trackHighlight&&t.ResUtil.removeFromParent(this.trackHighlight),this.trackHighlight=null,t.ResUtil.removeAllChildren(this)},i}(egret.Sprite);t.HSlide=e,__reflect(e.prototype,"lhj.HSlide")}(lhj||(lhj={}));var lhj;!function(t){var e=function(e){function i(i,n,o,s){void 0===s&&(s=!1);var r=e.call(this)||this;return r._data=i,r.alwayDispatch=s,r._lableArr=n,r._bitmap=new egret.Bitmap,r._bitmap.texture=t.ResUtil.createTexture(r._data[0]),r.addChild(r._bitmap),r.touchEnabled=!0,r.gotoAndStop(1),r.addEventListener(egret.TouchEvent.TOUCH_TAP,r.onClick,r),o&&(r._labelTxt=t.ResUtil.createTextFeild(16777215,egret.HorizontalAlign.CENTER,o,34,3,20,231),r.addChild(r._labelTxt)),r}return __extends(i,e),i.prototype.destory=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),t.ResUtil.removeAllChildren(this),t.ResUtil.removeFromParent(this),this._bitmap=null,this._label=null,this._lableArr=null,this._data=null,this._labelTxt=null},Object.defineProperty(i.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!0,configurable:!0}),i.prototype.onClick=function(t){this.dispatchEventWith(i.CLICK),(1==this._frame||this.alwayDispatch)&&(this.gotoAndStop(2),this.dispatchEventWith(i.CHOOSED))},i.prototype.gotoAndStop=function(e){this._frame=e,this._bitmap.texture=t.ResUtil.createTexture(this._data[e-1]),this._lableArr&&(this._label||(this._label=new egret.Bitmap,this._label.y=19,this.addChild(this._label)),this._label.texture=t.ResUtil.createTexture(this._lableArr[e-1]),this._label.x=Math.round((243-this._label.width)/2))},i.CHOOSED="CHOOSED",i.CLICK="CLICK",i}(egret.DisplayObjectContainer);t.MenuItem=e,__reflect(e.prototype,"lhj.MenuItem")}(lhj||(lhj={}));var HBPoker;!function(t){var e=function(t){function e(e,i,n,o,s,r){void 0===i&&(i=""),void 0===n&&(n=""),void 0===o&&(o=""),void 0===s&&(s=null),void 0===r&&(r="assets");var h=t.call(this)||this;return h.assets=RES.getRes("assets"),h.isPlayCartoon=!1,h.isSelected=!1,h.switchOffName="",h.switchOnName="",h.switchBarName="",h.param={context:null,data:null},h.param.context=e,h.switchOffName=i,h.switchOnName=n,h.switchBarName=o,h.init(s,r),h}return __extends(e,t),e.prototype.init=function(t,e){void 0===t&&(t=null),void 0===e&&(e="assets"),this.backFun=t,this.switchOffImg=new egret.Bitmap,this.switchOnImg=new egret.Bitmap,this.switchBarImg=new egret.Bitmap,"assets"!=e&&(this.assets=RES.getRes(e)),this.switchOffImg.texture=this.assets.getTexture(this.switchOffName),this.addChild(this.switchOffImg),this.switchOnImg.texture=this.assets.getTexture(this.switchOnName),this.addChild(this.switchOnImg),this.switchOnImg.alpha=0,this.switchBarImg.texture=this.assets.getTexture(this.switchBarName),this.switchBarImg.x=5,this.switchBarImg.y=this.switchOffImg.height/2-this.switchBarImg.height/2+4,this.addChild(this.switchBarImg),this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onbuttonTouchTap,this)},e.prototype.onbuttonTouchTap=function(t){if(!this.isPlayCartoon){this.isPlayCartoon=!0;var e=function(){this.isPlayCartoon=!1,this.isSelected=!this.isSelected,null!=this.backFun&&this.backFun.apply(this.param.context,[this.param.data])};this.isSelected?(egret.Tween.get(this.switchBarImg).to({x:5},400).call(e,this),egret.Tween.get(this.switchOffImg).to({alpha:1},400),egret.Tween.get(this.switchOnImg).to({alpha:0},400)):(egret.Tween.get(this.switchBarImg).to({x:this.switchOffImg.width-this.switchBarImg.width-6},400).call(e,this),egret.Tween.get(this.switchOffImg).to({alpha:0},400),egret.Tween.get(this.switchOnImg).to({alpha:1},400))}},e.prototype.setBindData=function(t){this.param.data=t},e.prototype.getBindData=function(){return this.param.data},e.prototype.getSelected=function(){return this.isSelected},e}(egret.DisplayObjectContainer);t.ToggleSwitch=e,__reflect(e.prototype,"HBPoker.ToggleSwitch")}(HBPoker||(HBPoker={}));var lhj;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.initUI(),t}return __extends(i,e),i.prototype.initUI=function(){this._bg=t.ResUtil.createBitmapByName("tipsBg"),this._bg.width=1.2*this._bg.width,this._bg.height=1.2*this._bg.height,this.addChild(this._bg),this._text=t.ResUtil.createTextFeild(16777215,egret.HorizontalAlign.CENTER,"",30,88,10,786),this._text.multiline=!0,this.addChild(this._text)},i.prototype.setText=function(e){e&&(this._text.text=e,this._bg.height=2*this._text.textHeight,this.y=t.DataCache.defaultHeight,egret.Tween.get(this).to({y:Math.round((t.DataCache.defaultHeight-this.height)/2)-60},500,egret.Ease.circOut).call(this.showDelay,this))},i.prototype.showDelay=function(){egret.Tween.get(this).wait(2e3).to({y:-this.height},500,egret.Ease.circOut).call(this.destory,this)},i.prototype.destory=function(){egret.Tween.removeTweens(this),t.ResUtil.removeAllChildren(this),t.ResUtil.removeFromParent(this),this._bg=null,this._text=null},i}(egret.Sprite);t.MildAlertVC=e,__reflect(e.prototype,"lhj.MildAlertVC")}(lhj||(lhj={}));var lhj;!function(t){var e=function(e){function i(t){var i=e.call(this)||this;return i.touchEnabled=!0,i._needClose=t,i.initUI(),i}return __extends(i,e),i.prototype.initUI=function(){var e=t.ResUtil.createBitmapByName("da_frame_4");if(e.scale9Grid=new egret.Rectangle(20,31,34,15),e.width=635,e.height=391,this.addChild(e),this.title=t.ResUtil.createTextFeild(16777215,egret.HorizontalAlign.CENTER,"",32,140,18,191),this.info=t.ResUtil.createTextFeild(16777215,egret.HorizontalAlign.CENTER,"",32,66,39,508),this.info.lineSpacing=2,this.addChild(this.info),this.addChild(this.title),this._needClose){var i=new t.GameButton(["dt_close_btn_1","dt_close_btn_2"]);i.x=e.width-61,i.y=-10,i.addClickArea(20),i.touchEnabled=!0,i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this),this.addChild(i)}},i.prototype.onClose=function(e){e.stopPropagation(),t.PopupManager.removePopUp(this),this.dispatchEventWith(t.UIEventConsts.CLOSE),this.destory()},i.prototype.setData=function(e,i,n,o,s,r,h,a){void 0===n&&(n=null),void 0===o&&(o=null),void 0===s&&(s=null),void 0===r&&(r=0),void 0===h&&(h=32),void 0===a&&(a=egret.HorizontalAlign.CENTER),void 0===n&&(n=null),void 0===o&&(o=null),void 0===s&&(s=null),void 0===r&&(r=0),void 0===h&&(h=32),void 0===a&&(a=egret.HorizontalAlign.CENTER),this._backFn=o,this._backObj=s,this.info.size=h,this.title.text=e,this.info.text=i,this.info.textAlign=a,this.info.y=20+Math.round((254-this.info.textHeight)/2),1==n.length?(n[0]&&""!=n[0]||(n[0]="确定"),this.yesBtn=new t.GameButton(["hlhyg_sure_1","hlhyg_sure_2"]),this.yesBtn.x=Math.round((this.width-this.yesBtn.width)/2),this.yesBtn.y=this.height-105,this.addChild(this.yesBtn)):2==n.length&&(n[0]&&""!=n[0]||(n[0]="确定"),n[1]&&""!=n[1]||(n[1]="取消"),this.yesBtn=new t.GameButton(["hlhyg_sure_1","hlhyg_sure_2"]),this.yesBtn.x=317.5-this.yesBtn.width-10,this.yesBtn.y=290,this.addChild(this.yesBtn),this.noBtn=new t.GameButton(["hlhyg_cancel_1","hlhyg_cancel_2"]),this.noBtn.x=327.5,this.noBtn.y=290,this.yesBtn.y=this.noBtn.y=this.height-this.yesBtn.height-50,this.addChild(this.noBtn)),this._backFn&&this._backFn[0]&&this.yesBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this._backFn[0],this._backObj),this._backFn&&this._backFn[1]&&this.noBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this._backFn[1],this._backObj),this.yesBtn&&this.yesBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this),this.noBtn&&this.noBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this),this.title.x=(635-this.title.width)/2},Object.defineProperty(i.prototype,"titleY",{set:function(t){this.title.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"titleColor",{set:function(t){this.title.textColor=t},enumerable:!0,configurable:!0}),i.prototype.destory=function(){this.yesBtn&&(this._backFn&&this._backFn[0]&&this.yesBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this._backFn[0],this._backObj),this.yesBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this),this.yesBtn=null),this.noBtn&&(this.noBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this),this._backFn&&this._backFn[1]&&this.noBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this._backFn[1],this._backObj),this.noBtn=null),this.title=null,this.info=null,this._backFn=null,this._backObj=null,t.ResUtil.removeFromParent(this),t.ResUtil.removeAllChildren(this)},i}(egret.Sprite);t.MsgBox=e,__reflect(e.prototype,"lhj.MsgBox")}(lhj||(lhj={}));var lhj;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.getInstance=function(){return null==this.instance&&(this.instance=new i),this.instance},i.prototype.initializeController=function(){e.prototype.initializeController.call(this),this.registerCommand(t.AppFacadeConst.STARTUP,t.StartupCommand)},i.prototype.startUp=function(e){this.sendNotification(t.AppFacadeConst.STARTUP,e),this.removeCommand(t.AppFacadeConst.STARTUP)},i}(puremvc.Facade);t.AppFacade=e,__reflect(e.prototype,"lhj.AppFacade")}(lhj||(lhj={}));var lhj;!function(t){var e=function(){function t(){}return t.STARTUP="HBPoker_startup",t.SEND_DATA="senddata",t.DESTORY="destroy",t.EXIT_GAME="exitGame",t.ROOM_INIT="room_init",t.CHANGE_SPEED="change_speed",t.BET_REPLY="bet_reply",t.RUN_RESULT="run_result",t.LOTTERY_RESULT="lottery_result",t.SPECIAL_REWARD="special_reward",t.SELECT_BOX="select_box",t}();t.AppFacadeConst=e,__reflect(e.prototype,"lhj.AppFacadeConst")}(lhj||(lhj={}));var lhj;!function(t){var e=function(){function t(){}return t.setGreen=function(t){void 0===t&&(t=0),1==t&&(this.green="green_",this.greenFont=5284689,this.greenFanghao=5284689,this.resetFont=7337615)},t.green="",t.greenFont=7055559,t.greenFanghao=7186632,t.resetFont=16774656,t}();t.ColorConst=e,__reflect(e.prototype,"lhj.ColorConst")}(lhj||(lhj={}));var lhj;!function(t){var e=function(){function t(){}return t.SUCCESS=0,t.CANCLEOPEARET=1,t.PRIORITY=32,t}();t.NetConsts=e,__reflect(e.prototype,"lhj.NetConsts")}(lhj||(lhj={}));var lhj;!function(t){var e=function(){function t(){}return t.BACKGROUND_MUSIC=["sicbo_bg_sound_mp3","fpc_bg_sound_mp3"],t.BUTTON_CLICK="button_click",t.START_BET=["hb_sound_kaishixiazhu_mp3","hb_sound_keyixiazhu_mp3","hb_sound_laixiazhu_mp3","hb_sound_qingxiazhu_mp3","hb_sound_yiqixiazhu_mp3"],t.STOP_BET=["hb_sound_count_down_mp3","hb_sound_stop_bell_mp3"],t.LAST_FIVE_SECONDS=["hb_sound_zhishengwumiao_mp3","hb_sound_zuihouwumiao_mp3","hb_sound_daoshuwumiao_mp3"],t.CHIPS_FLY="dt_sound_bet_mp3",t}();t.SoundConsts=e,__reflect(e.prototype,"lhj.SoundConsts")}(lhj||(lhj={}));var lhj;!function(t){var e=function(){function t(){this.stageHeight=0,this.stageWidth=0}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t}();t.StaticMgr=e,__reflect(e.prototype,"lhj.StaticMgr")}(lhj||(lhj={}));var lhj;!function(t){var e=function(){function t(){}return t.EXIT_GAME="exit_game",t.CLOSE="close",t.USER_APPLY_STAND_UP="user_apply_stand_up",t.SHOW_PLAYER_INFO="show_palyer_info",t.USER_APPLY_SIT_DOWN="user_apply_sit_down",t.SHOW_RECORD_PANEL="show_trend_panel",t.SHOW_MULT_PANEL="show_mult_panel",t.SHOW_HELP_PANEL="show_help_panel",t.SHOW_SETTING_PANEL="show_setting_panel",t.SHOW_MORE_PANEL="show_more_panel",t.APPLY_BANKER_PANEL="apply_banker_panel",t.CANCEL_APPLY_BANKER="cancel_apply_banker",t.APPLY_BANKER="apply_banker",t.SELECT_EXPRESSION_ITEM="select_expression_item",t.SEND_MESSAGE="send_message",t.MOVE_RIGHT="move_right",t.MOVE_LEFT="move_left",t.GET_NOSEAT_USER_LIST="get_noseat_user_list",t.USER_BET_CHIPS="user_bet_chips",t.SHOW_RESULT_PANEL="show_result_panel",t.SHOW_WIN_EFFECT="show_win_effect",t.GET_LOTTERY_HISTORY="get_lottery_history",t.GUIDE_BUY_COINS="guide_buy_coins",t.SHOW_SHARE_PAGE="show_share_page",t.SHOW_CHIPS_PANEL="show_chips_panel",t.LAST_TIME="last_time",t.REPEAT_BET="repeat_bet",t.CHANGE_CHIPS="change_chips",t}();t.UIEventConsts=e,__reflect(e.prototype,"lhj.UIEventConsts")}(lhj||(lhj={}));var lhj;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.execute=function(e){var n=this.facade.retrieveProxy(t.ServerProxy.NAME);switch(t.ResUtil.trace("execute:",e.getType()),e.getType()){case i.GAME_DATA:n.sendData(e.getBody());break;case i.CONNECT_GAME_SERVER:n.initServer();break;case i.CLOSE:n.closeSocket()}},i.GAME_DATA="game_data",i.CONNECT_GAME_SERVER="connect_game_server",i.CLOSE="close",i}(puremvc.SimpleCommand);t.DataRequestCommand=e,__reflect(e.prototype,"lhj.DataRequestCommand")}(lhj||(lhj={}));var lhj;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.execute=function(t){t.getBody();this.removeMediator(),this.removeController(),this.removeProxy()},i.prototype.removeController=function(){this.facade.removeCommand(t.AppFacadeConst.SEND_DATA),this.facade.removeCommand(t.AppFacadeConst.DESTORY)},i.prototype.removeMediator=function(){this.facade.removeMediator(t.ButtonMediator.NAME),this.facade.removeMediator(t.GameMediator.NAME),this.facade.removeMediator(t.EffectMediator.NAME),this.facade.removeMediator(t.InfoMediator.NAME)},i.prototype.removeProxy=function(){this.facade.removeProxy(t.ServerProxy.NAME),this.facade=null,puremvc.Facade.instance=null,t.AppFacade.instance=null},i}(puremvc.MacroCommand);t.RemoveCommand=e,__reflect(e.prototype,"lhj.RemoveCommand")}(lhj||(lhj={}));var Cmd=window.Cmd;!function(t){function e(t,e,i){var n=lhj.AppFacade.getInstance();n.sendNotification(t,e,i)}function i(t){0!=t.ret?(uniLib.TipsUtils.showTipsDownToUp(t.desc,!0),e(lhj.AppFacadeConst.EXIT_GAME,t)):e(lhj.AppFacadeConst.ROOM_INIT,t)}function n(t){0==t.ret&&e(lhj.AppFacadeConst.EXIT_GAME,t)}function o(t){0==t.ret&&e(lhj.AppFacadeConst.CHANGE_SPEED,t)}function s(t){0==t.ret&&e(lhj.AppFacadeConst.BET_REPLY,t)}function r(t){e(lhj.AppFacadeConst.RUN_RESULT,t)}function h(t){e(lhj.AppFacadeConst.LOTTERY_RESULT,t)}function a(t){e(lhj.AppFacadeConst.SPECIAL_REWARD,t)}function l(t){0==t.ret&&e(lhj.AppFacadeConst.SELECT_BOX,t)}function c(t){lhj.PublicManage.getInstance().showMildWarnShow(t.msg)}t.GameDispatch=e,t.OnEnterGameCmd_S=i,t.OnExitGameCmd_S=n,t.OnSetSpeedCmd_S=o,t.OnBetRequestCmd_S=s,t.OnWhellResultCmd_S=r,t.OnLotteryCmd_S=h,t.OnSpecLotCmd_S=a,t.OnPickSpecLotCmd_S=l,t.OnSysMessageCmd_S=c}(Cmd||(Cmd={}));var lhj;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.execute=function(t){this.initController(),this.initProxy(),this.initMediator()},i.prototype.initController=function(){this.facade.registerCommand(t.AppFacadeConst.SEND_DATA,t.DataRequestCommand),this.facade.registerCommand(t.AppFacadeConst.DESTORY,t.RemoveCommand)},i.prototype.initMediator=function(){this.facade.registerMediator(new t.GameMediator),this.facade.registerMediator(new t.ButtonMediator),this.facade.registerMediator(new t.InfoMediator),this.facade.registerMediator(new t.EffectMediator)},i.prototype.initProxy=function(){this.facade.registerProxy(new t.ServerProxy)},i}(puremvc.MacroCommand);t.StartupCommand=e,__reflect(e.prototype,"lhj.StartupCommand")}(lhj||(lhj={}));var lhj;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e}(egret.EventDispatcher);t.UI_EventListener=e,__reflect(e.prototype,"lhj.UI_EventListener")}(lhj||(lhj={}));var lhj;!function(t){var e=function(){function t(){}return t.getStartPos=function(t,e,i,n,o){var s=50,r=60;1==o||4==o||(s=25,r=45);var h=t+s+(i-2*s)*Math.random(),a=e+r+(n-2*r)*Math.random();return new egret.Point(h,a)},t.getSeatPos=function(t){return this.seatPosArr[t]},t.getChipsPos=function(t){var e=this.seatPosArr[t-1].x,i=this.seatPosArr[t-1].y+40,n=new egret.Point(e,i);return n},t.setX=function(){for(var t=0;t<this.seatPosArr.length;t++)t>3&&(this.seatPosArr[t].x=uniLib.Global.screenWidth-45)},t.defaultWidth=1280,t.defaultHeight=720,t.path="",t.destroyResOnExit=!1,t.seatPosArr=[new egret.Point(45,80),new egret.Point(45,210),new egret.Point(45,340),new egret.Point(45,470),new egret.Point(t.defaultWidth-45,80),new egret.Point(t.defaultWidth-45,210),new egret.Point(t.defaultWidth-45,340),new egret.Point(t.defaultWidth-45,470)],t.BetAreaEndX=[[230,300],[450,520],[660,730],[870,940],[280,360]],t.BetAreaEndY=[[200,270],[200,270],[200,270],[200,270],[20,60]],t}();t.DataCache=e,__reflect(e.prototype,"lhj.DataCache")}(lhj||(lhj={}));var lhj;!function(t){var e=function(){function t(){}return t.prototype.destory=function(){t.main=null,t.stage=null,t.mainUILayer=null,t.uiLayer=null,t.topLayer=null,t.manage=null
},t}();t.GameInfo=e,__reflect(e.prototype,"lhj.GameInfo")}(lhj||(lhj={}));var lhj;!function(t){var e=function(){function t(){this.selectChipsValue=0,this.index=0,this.isAdd=!1}return t.getInstance=function(){return this.instance||(this.instance=new t),this.instance},t}();t.RoomInfo=e,__reflect(e.prototype,"lhj.RoomInfo")}(lhj||(lhj={}));var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},e.prototype.onProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var lhj;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.start=function(){e.prototype.start.call(this),t.GameInfo.uiLayer=this.uiLayer,t.GameInfo.mainUILayer=this.mainUILayer,t.GameInfo.topLayer=this.topLayer,t.GameInfo.main=this.tipsLayer,t.GameInfo.scaleY=uniLib.Global.screenHeight/720,this.initPositionData(),t.AppFacade.getInstance().startUp(this),t.AppFacade.getInstance().sendNotification(t.AppFacadeConst.SEND_DATA,null,t.DataRequestCommand.CONNECT_GAME_SERVER),uniLib.SoundMgr.instance.playBgMusic(["dt_sound_bg_mp3"]),t.StaticMgr.getInstance().gameInfo&&t.StaticMgr.getInstance().gameInfo.defaultOrientation==egret.OrientationMode.PORTRAIT&&(uniLib.ScreenUtils.landscape=!0),t.StaticMgr.getInstance().gameInfo&&0==t.StaticMgr.getInstance().gameInfo.preloadUIAutoHide&&t.StaticMgr.getInstance().gameInfo.preloadUI?uniLib.UIMgr.instance.hideLoading(t.StaticMgr.getInstance().gameInfo.preloadUI,"",!0,!1):uniLib.UIMgr.instance.hideLoading(),t.StaticMgr.getInstance().gameInfo&&this.dispatchEventWith("haocai_Casino_enterGame",!0,t.StaticMgr.getInstance().gameInfo.gameId)},i.prototype.destroy=function(){e.prototype.destroy.call(this),uniLib.DisplayUtils.removeAllChildren(this),uniLib.DisplayUtils.removeFromParent(this)},i.prototype.initPositionData=function(){t.DataCache.defaultWidth=uniLib.Global.screenWidth;var e=t.ResUtil.createBitmapByName("lhj_bg_1_jpg");this.addChildAt(e,0),e.anchorOffsetX=e.width/2,e.x=uniLib.Global.screenWidth/2;var i=t.ResUtil.createDragon("lhj_effect_flower","newAnimation",uniLib.DragonType.ARMATURE,uniLib.Global.screenWidth/2,360,this,-1,1);this.addChildAt(i,1);var n=t.ResUtil.createDragon("lhj_effect_bg","newAnimation",uniLib.DragonType.ARMATURE,uniLib.Global.screenWidth/2,360,this,-1,1);this.addChildAt(n,2);var o=t.ResUtil.createBitmapByName("lhj_bg_2");this.addChildAt(o,3),o.anchorOffsetX=o.width/2,o.x=uniLib.Global.screenWidth/2,o.y=uniLib.Global.screenHeight-o.height},i}(uniLib.GameScene);t.LHJGameScene=e,__reflect(e.prototype,"lhj.LHJGameScene")}(lhj||(lhj={}));var lhj;!function(t){var e=function(t){function e(i){return t.call(this,e.NAME,i)||this}return __extends(e,t),e.prototype.listNotificationInterests=function(){return[]},e.prototype.handleNotification=function(t){switch(t.getName()){}},e.prototype.onRemove=function(){t.prototype.onRemove.call(this)},e.NAME="PokerMainMediator",e}(puremvc.Mediator);t.LHJGameSceneMediator=e,__reflect(e.prototype,"lhj.LHJGameSceneMediator")}(lhj||(lhj={}));var lhj;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._second=0,t._count=10,t}return __extends(i,e),i.prototype.waitNext=function(t){},i.prototype.freeTime=function(e){this.waitTxt&&uniLib.DisplayUtils.removeFromParent(this.waitTxt),this.movie_1&&uniLib.DisplayUtils.removeFromParent(this.movie_1),this.timer_1000.stop(),this._second=0,this.effect=t.ResUtil.createDragon("dt_free_effect","dengdai",uniLib.DragonType.ARMATURE,640,360,this,e,1),this.title=t.ResUtil.createBitmapByName("dt_free_title"),this.title.x=490,this.title.y=320,this.addChild(this.title),this.addChild(this.waitTxt),this.waitTxt.x=720,this.waitTxt.y=320,this.waitTxt.text="("+e+"s)",this._count=e,this._second=0,this.timer_1000.start()},i.prototype.removeEffect=function(){this.effect&&uniLib.DisplayUtils.removeFromParent(this.effect),this.title&&uniLib.DisplayUtils.removeFromParent(this.title)},i.prototype.countSecond=function(){this._second++;var t=this._count-this._second;0>t&&(t=0),this.waitTxt.text="("+t+"s)",this._second>this._count&&(this.waitTxt&&uniLib.DisplayUtils.removeFromParent(this.waitTxt),this.movie_1&&uniLib.DisplayUtils.removeFromParent(this.movie_1),this.timer_1000.stop(),this._second=0)},i.prototype.startBet=function(e){var i=this;void 0===e&&(e=10),this.removeEffect(),this.timer_1000.stop(),this.waitTxt&&uniLib.DisplayUtils.removeFromParent(this.waitTxt),this.movie_1&&uniLib.DisplayUtils.removeFromParent(this.movie_1),this.movie_2=t.ResUtil.createDragon("dt_tishi","xiazhu","MovieClip",640,360,this,1,1),this.movie_2&&this.movie_2.addEventListener(dragonBones.AnimationEvent.LOOP_COMPLETE,function(){uniLib.DisplayUtils.removeFromParent(i.movie_2)},this)},i.prototype.bgDown=function(t){t&&egret.Tween.removeTweens(t)},i.prototype.removeAction=function(){},i.prototype.initUI=function(){this.effectArr=[],this._mcPanel=new egret.Sprite,this.addChild(this._mcPanel),this.waitTxt=t.ResUtil.createFontText("",0,0,300,RES.getRes("dt_tishi_num_fnt")),this.timer_1000=new egret.Timer(1e3),this.timer_1000.addEventListener(egret.TimerEvent.TIMER,this.countSecond,this),this.timer_1000.stop()},i.prototype.destory=function(){this.timer_1000&&(this.timer_1000.removeEventListener(egret.TimerEvent.TIMER,this.countSecond,this),this.timer_1000.stop(),this.timer_1000=null)},i}(t.BaseVc);t.ActionEffectMc=e,__reflect(e.prototype,"lhj.ActionEffectMc")}(lhj||(lhj={}));var lhj;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.initPanel=function(){this.setSize(723,488);var e=t.ResUtil.createBitmapByName("hlhyg_warn_title",170,20);this.addChild(e),this._messageTxt=t.ResUtil.createTextFeild(16777215,egret.HorizontalAlign.LEFT,"",34,50,90,640),this._messageTxt.height=300,this._messageTxt.lineSpacing=17,this._messageTxt.verticalAlign=egret.VerticalAlign.MIDDLE,this._messageTxt.text="",this.addChild(this._messageTxt),this._quickBtn=new t.GameButton(["hlhyg_consider_1","hlhyg_consider_2"]),this._quickBtn.x=70,this._quickBtn.y=400,this._quickBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onQuit,this),this.addChild(this._quickBtn),this._buyGameButton=new t.GameButton(["hlhyg_buy_1","hlhyg_buy_2"]),this._buyGameButton.x=410,this._buyGameButton.y=400,this._buyGameButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBuy,this),this.addChild(this._buyGameButton),uniLib.Global.lobbyMode&&46==uniLib.Global.gameConfig.lobbyId&&(this._buyGameButton.visible=!1,this._quickBtn.visible=!1),uniLib.SoundMgr.instance.playSound("dt_sound_tips_mp3")},i.prototype.setType=function(e,i){var n="";switch(e){case 1:n="  至少携带100万金币才能入座哦，您当前金币不足，还需要"+t.ResUtil.numberFormat(1e6-t.RoomInfo.getInstance().chips)+"金币才能入座哦！",uniLib.Global.lobbyMode&&48==uniLib.Global.gameConfig.lobbyId&&(n="  至少携带1000万金币才能入座哦，您当前金币不足，还需要"+t.ResUtil.numberFormat(1e7-t.RoomInfo.getInstance().chips)+"金币才能入座哦！");break;case 2:n="  至少携带300万金币才能上庄哦，您当前金币不足，还需要"+t.ResUtil.numberFormat(3e6-t.RoomInfo.getInstance().chips)+"金币才能上庄哦！",uniLib.Global.lobbyMode&&48==uniLib.Global.gameConfig.lobbyId&&(n="  至少携带300万金币才能上庄哦，您当前金币不足，还需要"+t.ResUtil.numberFormat(3e7-t.RoomInfo.getInstance().chips)+"金币才能上庄哦！");break;case 3:n="      您还差"+t.ResUtil.numberFormat(i-t.RoomInfo.getInstance().chips)+"金币，请前往充值！";break;case 4:n="  您当前金币不足，还需要"+t.ResUtil.numberFormat(i-t.RoomInfo.getInstance().chips)+"金币才能申请"+i+"金币额度当庄";break;case 5:n="  由于您上一局输掉了游戏，上庄金币不足，现已把您踢出上庄列表！"}this._messageTxt.text=n},i.prototype.onBuy=function(){this.dispatchEventWith(t.UIEventConsts.CLOSE,!1)},i.prototype.onQuit=function(){this.dispatchEventWith(t.UIEventConsts.CLOSE,!1)},i.prototype.destory=function(){e.prototype.destory.call(this),this._quickBtn&&(this._quickBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onQuit,this),this._quickBtn=null),this._buyGameButton&&(this._buyGameButton.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBuy,this),this._buyGameButton=null)},i}(t.BasePanel);t.BuyPanel=e,__reflect(e.prototype,"lhj.BuyPanel")}(lhj||(lhj={}));var lhj;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._countSecond=0,t._countIndex=0,t}return __extends(i,e),i.prototype.initUI=function(){this._clockBg=t.ResUtil.createBitmapByName("dt_clock_bg"),this.addChild(this._clockBg),this._clockBg.x=830,this._clockBg.visible=!1,this._clockBg.y=10,this._clockTxt=t.ResUtil.createFontText("",0,0,0,RES.getRes("dt_countdown_num_fnt")),this._clockTxt.width=this._clockBg.width,this._clockTxt.height=this._clockBg.height,this._clockTxt.x=this._clockBg.x,this._clockTxt.y=this._clockBg.y,this._clockTxt.textAlign=egret.HorizontalAlign.CENTER,this._clockTxt.verticalAlign=egret.VerticalAlign.MIDDLE,this.addChild(this._clockTxt),this._clockTxt.visible=!1,this._timer=new egret.Timer(1e3),this._timer.addEventListener(egret.TimerEvent.TIMER,this.onTimer,this)},i.prototype.startCount=function(t){this._clockBg.visible=!0,this._clockTxt.visible=!0,this._countSecond=t,this._clockTxt.text=t+"",this._countIndex=0,this._timer.start()},i.prototype.reset=function(){this._clockBg.visible=!1,this._clockTxt.visible=!1,this._countIndex=0,this._timer&&this._timer.stop()},i.prototype.onTimer=function(t){this._countIndex++;var e=Math.floor(this._countSecond-this._countIndex);0==e&&(e=0,uniLib.SoundMgr.instance.playSound("hb_sound_stop_bell_mp3"),this._timer.reset(),this._timer.stop(),this._clockBg.visible=!1,this._clockTxt.visible=!1),5==e&&uniLib.SoundMgr.instance.playSound("dt_sound_count_mp3"),this._clockTxt.text=e+""},i.prototype.destory=function(){this._timer&&(this._timer.stop(),this._timer.removeEventListener(egret.TimerEvent.TIMER,this.onTimer,this))},i}(t.BaseVc);t.ClockMc=e,__reflect(e.prototype,"lhj.ClockMc")}(lhj||(lhj={}));var lhj;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.index=0,t.skinName="dt_GuideSkin",t.init(),t}return __extends(i,e),i.prototype.init=function(){this.touchEnabled=!0,this.guideArr=[this.guide_1,this.guide_2,this.guide_3,this.guide_4,this.guide_5,this.guide_6,this.guide_7],this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showGuide,this);for(var e=0;e<this.guideArr.length;e++)this.guideArr[e].width=1280*t.GameInfo.scaleY;var i=new egret.Sprite;i.graphics.beginFill(0,.7),i.graphics.drawRect(-(uniLib.Global.screenWidth-1280*t.GameInfo.scaleY)/2,0,(uniLib.Global.screenWidth-1280*t.GameInfo.scaleY)/2,720),i.graphics.endFill(),this.addChild(i);var n=new egret.Sprite;n.graphics.beginFill(0,.7),n.graphics.drawRect(this.guide_1.width,0,(uniLib.Global.screenWidth-1280*t.GameInfo.scaleY)/2,720),n.graphics.endFill(),this.addChild(n)},i.prototype.showGuide=function(){this.index==this.guideArr.length-1?this.destroy():(this.guideArr[this.index].visible=!1,this.index++,this.guideArr[this.index].visible=!0)},i.prototype.destroy=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.showGuide,this),uniLib.DisplayUtils.removeAllChildren(this),uniLib.DisplayUtils.removeFromParent(this)},i}(eui.Component);t.GuidePanel=e,__reflect(e.prototype,"lhj.GuidePanel")}(lhj||(lhj={}));var lhj;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.skinName="fpc_HelpPanelSkin",t.init(),t}return __extends(i,e),i.prototype.init=function(){this.rule_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showRule,this),this.introduce_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showIntroduce,this),this.instr_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showInstr,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeHandle,this)},i.prototype.closeHandle=function(e){e.stopPropagation(),this.dispatchEventWith(t.UIEventConsts.CLOSE)},i.prototype.showRule=function(t){t.stopPropagation(),this.rule_txt.visible=!0,this.rule_bg.visible=!0,this.introduce_bg.visible=!1,this.introduce_txt.visible=!1,this.instr_bg.visible=!1,this.instr_txt.visible=!1},i.prototype.showIntroduce=function(t){t.stopPropagation(),this.rule_txt.visible=!1,this.rule_bg.visible=!1,this.introduce_bg.visible=!0,this.introduce_txt.visible=!0,this.instr_bg.visible=!1,this.instr_txt.visible=!1},i.prototype.showInstr=function(t){t.stopPropagation(),this.rule_txt.visible=!1,this.rule_bg.visible=!1,this.introduce_bg.visible=!1,this.introduce_txt.visible=!1,this.instr_bg.visible=!0,this.instr_txt.visible=!0},i.prototype.destory=function(){this.rule_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.showRule,this),this.introduce_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.showIntroduce,this),this.instr_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.showInstr,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeHandle,this),uniLib.DisplayUtils.removeFromParent(this),uniLib.DisplayUtils.removeAllChildren(this)},i}(eui.Component);t.HelpPanel=e,__reflect(e.prototype,"lhj.HelpPanel")}(lhj||(lhj={}));var lhj;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.index=0,t.imageArr=[],t.skinName="LogoItemSkin",t.init(),t}return __extends(i,e),i.prototype.init=function(){this.imageArr=[]},i.prototype.initImage=function(t,e){this.index=t,this.imageArr=e,this.setImage()},i.prototype.changeImage=function(){this.index+=8,this.setImage()},i.prototype.lastImage=function(t){this.index=t,this.setImage()},i.prototype.showEffect=function(){var e=this.imageArr[this.index];6>e||e>11?this.movie=t.ResUtil.createDragon("lhj_effect_logo_"+e,"newAnimation",uniLib.DragonType.ARMATURE,111,111,this,1,1):this.movie=t.ResUtil.createDragon("lhj_effect_logo_6","effect"+e,uniLib.DragonType.ARMATURE,111,111,this,1,1),this.logo.visible=!1},i.prototype.removeEffect=function(){this.movie&&uniLib.DisplayUtils.removeFromParent(this.movie),this.effect&&uniLib.DisplayUtils.removeFromParent(this.effect.display),this.logo.visible=!0},i.prototype.setImage=function(){this.index<0&&(this.index=this.imageArr.length+this.index),this.index>=this.imageArr.length&&(this.index=this.index%this.imageArr.length),this.logo.source="lhj_logo_"+this.imageArr[this.index]},i.prototype.destory=function(){uniLib.DisplayUtils.removeAllChildren(this),uniLib.DisplayUtils.removeFromParent(this)},i}(eui.Component);t.LogoItem=e,__reflect(e.prototype,"lhj.LogoItem")}(lhj||(lhj={}));var lhj;!function(t){var e=function(e){function i(t){var i=e.call(this)||this;return i.index=0,i.total=0,i.startPos=0,i.imageArr=[],i.time=20,i.isChange=!1,i.skinName="LogoListSkin",i.init(),i.num=t,i}return __extends(i,e),i.prototype.init=function(){this.logoArr=[],this.imageArr=[];var e=[0,180,360,540,720];this.topY=0,this.underY=724;for(var i=0;i<e.length;i++){var n=new t.LogoItem;n.y=e[i],this.addChild(n),this.logoArr.push(n)}this.runTime=new egret.Timer(20),this.runTime.addEventListener(egret.TimerEvent.TIMER,this.addRun,this),this.runTime.stop(),this.speed=0,this.addSpeed=5.625,this.evenSpeed=90,this.reduceSpeed=5.625,this.bonusTime=new egret.Timer(60),this.bonusTime.addEventListener(egret.TimerEvent.TIMER,this.addRun,this),this.bonusTime.stop()},i.prototype.startGame=function(){this.index=0,this.runTime&&this.runTime.start()},i.prototype.onBonus=function(){this.index=0,this.bonusTime&&this.bonusTime.start()},i.prototype.addRun=function(){return this.index>=2*this.total-1?void this.reduceRun():(this.speed+=this.addSpeed,this.speed>=this.evenSpeed&&(this.speed=this.evenSpeed,this.index++),void this.startRun(!1))},i.prototype.reduceRun=function(){this.speed=this.speed-this.reduceSpeed,this.speed<=0&&(this.runTime&&this.runTime.stop(),this.bonusTime&&this.bonusTime.stop(),this.speed=0),0==this.speed?this.startRun(!0):this.startRun(!1);for(var t=0;t<this.logoArr.length;t++)this.logoArr[t].lastImage(this.startPos+t-1)},i.prototype.setImage=function(t){this.imageArr=t;for(var e=0;e<this.logoArr.length;e++)this.logoArr[e].initImage(e-1,t)},i.prototype.startRun=function(t){for(var e=this.logoArr[0].y+this.speed,i=0;i<this.logoArr.length;i++){var n=this.logoArr[i].y;t?egret.Tween.get(this.logoArr[i]).to({y:n+60},200).to({y:n-30},300).to({y:n},100):egret.Tween.get(this.logoArr[i]).to({y:n+this.speed}).wait(10).call(this.resetLogo,this.logoArr[i],[this.logoArr[i],this.logoArr,e])}},i.prototype.resetLogo=function(t,e,i){t&&t.y>720&&(t.y=i-180,t.changeImage(),e.pop(),e.unshift(t))},i.prototype.setData=function(e){t.RoomInfo.getInstance().isAdd?this.total=5+2*this.num:this.total=10+2*this.num,this.startPos=e-1,console.error("*/",this.imageArr[this.startPos])},i.prototype.showLight=function(t){this.logoArr[t].showEffect()},i.prototype.removeLottery=function(){for(var t=0;t<this.logoArr.length;t++)this.logoArr[t].removeEffect()},i.prototype.setTime=function(){},i.prototype.destory=function(){this.runTime&&(this.runTime.stop(),this.runTime.removeEventListener(egret.TimerEvent.TIMER,this.addRun,this),this.runTime=null),this.bonusTime&&(this.bonusTime.stop(),this.bonusTime.removeEventListener(egret.TimerEvent.TIMER,this.addRun,this),this.bonusTime=null),egret.Tween.removeTweens(this),uniLib.DisplayUtils.removeAllChildren(this),uniLib.DisplayUtils.removeFromParent(this)},i}(eui.Component);t.LogoList=e,__reflect(e.prototype,"lhj.LogoList")}(lhj||(lhj={}));var lhj;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.skinName="MorePanelSkin",t.init(),t}return __extends(i,e),i.prototype.init=function(){this.bg_layer=uniLib.DisplayUtils.createMask(0,uniLib.Global.screenWidth,uniLib.Global.screenHeight),this.bg_layer.touchEnabled=!0,this.bg_layer.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouch,this),this.addChild(this.bg_layer),this.swapChildren(this.container,this.bg_layer),this.helpTxt.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onHelpTouchHandler,this),this.helpTxt.addEventListener(egret.TouchEvent.TOUCH_END,this.onHelpTouchHandler,this),this.setTxt.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onsetTouchHandler,this),this.setTxt.addEventListener(egret.TouchEvent.TOUCH_END,this.onsetTouchHandler,this),this.exitTxt.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onexitTouchHandler,this),this.exitTxt.addEventListener(egret.TouchEvent.TOUCH_END,this.onexitTouchHandler,this)},i.prototype.onexitTouchHandler=function(t){t.stopPropagation(),t.type==egret.TouchEvent.TOUCH_BEGIN?this.exitBg.visible=!0:t.type==egret.TouchEvent.TOUCH_END&&(this.exitBg.visible=!1,this.onExitGame())},i.prototype.onsetTouchHandler=function(t){t.stopPropagation(),t.type==egret.TouchEvent.TOUCH_BEGIN?this.setBg.visible=!0:t.type==egret.TouchEvent.TOUCH_END&&(this.setBg.visible=!1,this.onSetting())},i.prototype.onHelpTouchHandler=function(t){t.stopPropagation(),t.type==egret.TouchEvent.TOUCH_BEGIN?this.helpBg.visible=!0:t.type==egret.TouchEvent.TOUCH_END&&(this.helpBg.visible=!1,this.onHelp())},i.prototype.onTouch=function(e){e.stopPropagation(),this.dispatchEventWith(t.UIEventConsts.CLOSE,!1)},i.prototype.onHelp=function(){this.dispatchEventWith(t.UIEventConsts.SHOW_HELP_PANEL,!1)},i.prototype.onSetting=function(){this.dispatchEventWith(t.UIEventConsts.SHOW_SETTING_PANEL,!1)},i.prototype.onExitGame=function(){this.dispatchEventWith(t.UIEventConsts.EXIT_GAME,!1,999)},i.prototype.destory=function(){this.bg_layer&&this.bg_layer.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouch,this),this.helpTxt.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onHelpTouchHandler,this),this.helpTxt.removeEventListener(egret.TouchEvent.TOUCH_END,this.onHelpTouchHandler,this),this.setTxt.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onsetTouchHandler,this),this.setTxt.removeEventListener(egret.TouchEvent.TOUCH_END,this.onsetTouchHandler,this),this.exitTxt.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onexitTouchHandler,this),this.exitTxt.removeEventListener(egret.TouchEvent.TOUCH_END,this.onexitTouchHandler,this),uniLib.DisplayUtils.removeFromParent(this),uniLib.DisplayUtils.removeAllChildren(this)},i}(eui.Component);t.MoreMenuPanel=e,__reflect(e.prototype,"lhj.MoreMenuPanel")}(lhj||(lhj={}));var lhj;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName="FishTankSkin",e.init(),e}return __extends(e,t),e.prototype.init=function(){this.bg_layer=new egret.Sprite,this.bg_layer.graphics.beginFill(0,.7),this.bg_layer.graphics.drawRect(-(uniLib.Global.screenWidth-1280)/2,0,uniLib.Global.screenWidth,720),this.bg_layer.graphics.endFill(),this.addChildAt(this.bg_layer,0),this.bg_layer.alpha=0},e.prototype.enterFrameHandler=function(){},e.prototype.showEffect=function(){switch(this.second++,this.second){case 1:this.showPoker();break;case 4:this.removePoker(),this.showPrize();break;case 7:this.destory()}},e.prototype.showShine=function(){"dt_prize_bg_1"==this.bg.source?this.bg.source="dt_prize_bg_2":this.bg.source="dt_prize_bg_1"},e.prototype.showPoker=function(){this.frame.visible=!0,this.poker.visible=!0,this.bg.visible=!0,this.backPoker.mask=this.frame,egret.Tween.get(this.frame).to({scaleY:0},1500)},e.prototype.removePoker=function(){this.showTime&&(this.showTime.stop(),this.showTime.removeEventListener(egret.TimerEvent.TIMER,this.showEffect,this),this.showTime=null),this.shineTime&&(this.shineTime.stop(),this.shineTime.removeEventListener(egret.TimerEvent.TIMER,this.showShine,this),this.shineTime=null),this.backPoker&&uniLib.DisplayUtils.removeFromParent(this.backPoker),this.bg.visible=!1,this.poker.visible=!1},e.prototype.showPrize=function(){},e.prototype.getPoint=function(t){var e;switch(t){case 1:e=new egret.Point(300,310);break;case 2:e=new egret.Point(520,245);break;case 3:e=new egret.Point(760,310);break;case 4:e=new egret.Point(975,245);break;case 5:e=new egret.Point(640,425)}return e},e.prototype.destory=function(){this.showTime&&(this.showTime.stop(),this.showTime.removeEventListener(egret.TimerEvent.TIMER,this.showEffect,this),this.showTime=null),this.shineTime&&(this.shineTime.stop(),this.shineTime.removeEventListener(egret.TimerEvent.TIMER,this.showShine,this),this.shineTime=null),egret.Tween.removeTweens(this),uniLib.DisplayUtils.removeAllChildren(this),uniLib.DisplayUtils.removeFromParent(this)},e}(eui.Component);t.PokerPanel=e,__reflect(e.prototype,"lhj.PokerPanel")}(lhj||(lhj={}));var lhj;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.setColor(),t}return __extends(i,e),i.prototype.setColor=function(){},i.prototype.destory=function(){e.prototype.destory.call(this),this._voiceBtn&&(this._voiceBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.voiceBtnClick,this),this._voiceBtn=null),this._soundBtn&&(this._soundBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.soundBtnClick,this),this._soundBtn=null),this._voiceHilder&&(this._voiceHilder.dispose(),this._voiceHilder.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTrackTouch,this),this._voiceHilder.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onTrackTouch,this),this._voiceHilder=null),this._soundHilder&&(this._soundHilder.dispose(),this._soundHilder.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onSoundTouch,this),this._soundHilder.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onSoundTouch,this),this._soundHilder=null),uniLib.Utils.setLocalStorage("SoundVolime",uniLib.SoundMgr.instance.soundVolume),uniLib.Utils.setLocalStorage("MusicVolime",uniLib.SoundMgr.instance.musicVolume)},i.prototype.initPanel=function(){this.setSize(850,555),this.title="hlhyg_setting";var e=t.ResUtil.createTextFeild(12899839,egret.HorizontalAlign.LEFT,"音效",37,85,220,104);this.addChild(e);var i=t.ResUtil.createTextFeild(12899839,egret.HorizontalAlign.LEFT,"音乐",37,85,350,104);this.addChild(i),this._voiceHilder=new t.HSlide("hlhyg_bar_2","hlhyg_bar_3","hlhyg_bar_3",500,"hlhyg_bar_1",new egret.Rectangle(22,13,1,1),new egret.Rectangle(28,16,8,3)),this._voiceHilder.name="_voiceHilder",this._voiceHilder.x=180,this._voiceHilder.y=i.y-5,this._voiceHilder.updateThumbPos(527*uniLib.SoundMgr.instance.musicVolume),this._voiceHilder.minValue=0,this._voiceHilder.maxValue=100,this.addChild(this._voiceHilder),this._voiceHilder.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTrackTouch,this),this._voiceHilder.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onTrackTouch,this),this._soundHilder=new t.HSlide("hlhyg_bar_2","hlhyg_bar_3","hlhyg_bar_3",500,"hlhyg_bar_1",new egret.Rectangle(22,13,1,1),new egret.Rectangle(28,16,1,1)),this._soundHilder.name="_soundHilder",this._soundHilder.x=180,this._soundHilder.y=e.y-5,this._soundHilder.updateThumbPos(527*uniLib.SoundMgr.instance.soundVolume);var n=[.3,.6,0,0,0,.3,.6,0,0,0,.3,.6,0,0,0,0,0,0,1,0];this.color=new egret.ColorMatrixFilter(n),this._soundHilder.minValue=0,this._soundHilder.maxValue=100,this.addChild(this._soundHilder),this._soundHilder.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSoundTouch,this),this._soundHilder.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onSoundTouch,this),this._soundBtn=new uniLib.CommonButton("hlhyg_voice_1","hlhyg_voice_2"),this.addChild(this._soundBtn),this._soundBtn.x=700,this._soundBtn.y=this._soundHilder.y-15,this._voiceBtn=new uniLib.CommonButton("hlhyg_music_1","hlhyg_music_2"),this.addChild(this._voiceBtn),this._voiceBtn.x=700,this._voiceBtn.y=this._voiceHilder.y-15,this._soundBtn.touchEnabled=!0,this._voiceBtn.touchEnabled=!0,this._soundBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.soundBtnClick,this),this._voiceBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.voiceBtnClick,this),uniLib.Utils.getLocalStorage("MusicVolime")&&(uniLib.SoundMgr.instance.musicVolume=uniLib.Utils.getLocalStorage("MusicVolime")),uniLib.Utils.getLocalStorage("SoundVolime")&&(uniLib.SoundMgr.instance.soundVolume=uniLib.Utils.getLocalStorage("SoundVolime")),this.updateMusicVolime(),this.updateSoundVolime()},i.prototype.soundBtnClick=function(t){0==uniLib.SoundMgr.instance.soundOpen?(uniLib.SoundMgr.instance.soundVolume=1,uniLib.SoundMgr.instance.soundOpen=!0,this._soundBtn.filters=null):(uniLib.SoundMgr.instance.soundVolume=0,uniLib.SoundMgr.instance.soundOpen=!1,this._soundBtn.filters=[this.color]),this.updateSoundVolime()},i.prototype.voiceBtnClick=function(t){0==uniLib.SoundMgr.instance.musicOpen?(uniLib.SoundMgr.instance.musicVolume=1,uniLib.SoundMgr.instance.musicOpen=!0,this._voiceBtn.filters=null):(uniLib.SoundMgr.instance.musicVolume=0,uniLib.SoundMgr.instance.musicOpen=!1,this._voiceBtn.filters=[this.color]),this.updateMusicVolime()},i.prototype.updateMusicVolime=function(){this._voiceHilder.value=100*uniLib.SoundMgr.instance.musicVolume,0==uniLib.SoundMgr.instance.musicVolume?this._voiceBtn.filters=[this.color]:this._voiceBtn.filters=null},i.prototype.updateSoundVolime=function(){this._soundHilder.value=100*uniLib.SoundMgr.instance.soundVolume,0==uniLib.SoundMgr.instance.soundVolume?this._soundBtn.filters=[this.color]:this._soundBtn.filters=null},i.prototype.onTrackTouch=function(t){this._voiceHilder.value<0&&(this._voiceHilder.value=0),uniLib.SoundMgr.instance.musicVolume=this._voiceHilder.value/100,uniLib.SoundMgr.instance.musicOpen=!1,uniLib.SoundMgr.instance.musicOpen=!0,0==uniLib.SoundMgr.instance.musicVolume?this._voiceBtn.filters=[this.color]:this._voiceBtn.filters=null},i.prototype.onSoundTouch=function(t){this._soundHilder.value<0&&(this._soundHilder.value=0),uniLib.SoundMgr.instance.soundVolume=this._soundHilder.value/100,uniLib.SoundMgr.instance.soundOpen=!1,uniLib.SoundMgr.instance.soundOpen=!0,0==uniLib.SoundMgr.instance.soundVolume?this._soundBtn.filters=[this.color]:this._soundBtn.filters=null},i.prototype.setSoundBtn=function(){var t=[.3,.6,0,0,0,.3,.6,0,0,0,.3,.6,0,0,0,0,0,0,1,0],e=new egret.ColorMatrixFilter(t);this._soundBtn.filters=[e]},i}(t.BasePanel);t.SettingPanel=e,__reflect(e.prototype,"lhj.SettingPanel")}(lhj||(lhj={}));var lhj;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName="sicbo_winchipsSkin",e}return __extends(e,t),e.prototype.setData=function(t){0>t?(this._bg.source="hlhyg_lose_bg",this._chipTxt.font="hb_loseChips_number_fnt",this._chipTxt.text=t+""):t>0&&(this._bg.source="hlhyg_winning_bg",this._chipTxt.font="hb_winChips_number_fnt",this._chipTxt.text="+"+t),this._bg.width=this._chipTxt.width},e}(eui.Component);t.WinningChipsPanel=e,__reflect(e.prototype,"lhj.WinningChipsPanel")}(lhj||(lhj={}));var lhj;!function(t){var e=function(e){function i(n){var o=e.call(this,i.NAME,n)||this;return o._view=new t.ButtonVc,t.GameInfo.uiLayer.addChild(o._view),o._view.scaleY=t.GameInfo.scaleY,o._view.width=1280*t.GameInfo.scaleY,o._view.x=(uniLib.Global.screenWidth-o._view.width)/2,o.setViewComponent(o._view),o._view&&(o._view.addEventListener(t.UIEventConsts.SHOW_HELP_PANEL,o.uiHandle,o),o._view.addEventListener(t.UIEventConsts.SHOW_SETTING_PANEL,o.uiHandle,o),o._view.addEventListener(t.UIEventConsts.EXIT_GAME,o.uiHandle,o)),o}return __extends(i,e),i.prototype.uiHandle=function(e){switch(e.type){case t.UIEventConsts.SHOW_HELP_PANEL:this.showHelp(e);break;case t.UIEventConsts.SHOW_SETTING_PANEL:this.showSetting(e);break;case t.UIEventConsts.EXIT_GAME:this.showExitGame(e)}},i.prototype.onRegister=function(){e.prototype.onRegister.call(this)},i.prototype.onRemove=function(){e.prototype.onRemove.call(this),this._view&&(this._view.removeEventListener(t.UIEventConsts.SHOW_HELP_PANEL,this.uiHandle,this),this._view.removeEventListener(t.UIEventConsts.SHOW_SETTING_PANEL,this.uiHandle,this),this._view.removeEventListener(t.UIEventConsts.EXIT_GAME,this.uiHandle,this),this.removeHelp(null),this.removeSetting(null),this._view.destory())},i.prototype.listNotificationInterests=function(){return[t.AppFacadeConst.BET_REPLY,t.AppFacadeConst.LOTTERY_RESULT,t.AppFacadeConst.ROOM_INIT]},i.prototype.handleNotification=function(e){switch(e.getName()){case t.AppFacadeConst.BET_REPLY:this._view&&this._view.setBet(!1);break;case t.AppFacadeConst.LOTTERY_RESULT:this._view&&this._view.setBet(!0);break;case t.AppFacadeConst.ROOM_INIT:this._view&&this._view.initChip(e.getBody())}},i.prototype.showHelp=function(e){e.stopPropagation(),this._helpPanel&&(this._helpPanel.destory(),this._helpPanel=null),this._helpPanel||(this._helpPanel=new t.HelpPanel,this._helpPanel.addEventListener(t.UIEventConsts.CLOSE,this.removeHelp,this),t.PopupManager.addPopUp(this._helpPanel,!0,!0,!0))},i.prototype.removeHelp=function(e){this._helpPanel&&(this._helpPanel.removeEventListener(t.UIEventConsts.CLOSE,this.removeHelp,this),t.PopupManager.removePopUp(this._helpPanel))},i.prototype.showSetting=function(e){e.stopPropagation(),this._settingPanel&&(this._settingPanel.destory(),this._settingPanel=null),this._settingPanel||(this._settingPanel=new t.SettingPanel,this._settingPanel.addEventListener(t.UIEventConsts.CLOSE,this.removeSetting,this),t.PopupManager.addPopUp(this._settingPanel,!0,!0,!0))},i.prototype.removeSetting=function(e){this._settingPanel&&(this._settingPanel.removeEventListener(t.UIEventConsts.CLOSE,this.removeSetting,this),t.PopupManager.removePopUp(this._settingPanel))},i.prototype.showExitGame=function(e){e.stopPropagation(),t.PublicManage.getInstance().showConfirmPanel("确定要退出房间",["确定","取消"],[this.onLeaveRoom],null,this)},i.prototype.onLeaveRoom=function(e){var i=new Cmd.ExitGameCmd_C;this.sendNotification(t.AppFacadeConst.SEND_DATA,i,t.DataRequestCommand.GAME_DATA)},i.prototype.exitGame=function(){t.AppFacade.getInstance().sendNotification(t.AppFacadeConst.DESTORY),uniLib.Global.dispatchEvent(uniLib.ZqEvent.EVENT_G2L,{gameId:4222}),uniLib.GameModuleUtils.ExitGame()},i.NAME="ButtonMediator",i}(puremvc.Mediator);t.ButtonMediator=e,__reflect(e.prototype,"lhj.ButtonMediator")}(lhj||(lhj={}));var lhj;!function(t){var e=function(e){function i(n){var o=e.call(this,i.NAME,n)||this;return o._view=new t.EffectVc,t.GameInfo.uiLayer.addChild(o._view),o._view.scaleY=t.GameInfo.scaleY,o.setViewComponent(o._view),o._view,o
}return __extends(i,e),i.prototype.uiHandle=function(t){switch(t.type){}},i.prototype.onRegister=function(){e.prototype.onRegister.call(this)},i.prototype.onRemove=function(){e.prototype.onRemove.call(this),this._view&&this._view.destory()},i.prototype.listNotificationInterests=function(){return[]},i.prototype.handleNotification=function(t){switch(t.getName()){}},i.NAME="EffectMediator",i}(puremvc.Mediator);t.EffectMediator=e,__reflect(e.prototype,"lhj.EffectMediator")}(lhj||(lhj={}));var lhj;!function(t){var e=function(e){function i(n){var o=e.call(this,i.NAME,n)||this;return o._view=new t.GameVc,t.GameInfo.uiLayer.addChild(o._view),o._view.scaleY=t.GameInfo.scaleY,o._view.width=1280*t.GameInfo.scaleY,o._view.x=(uniLib.Global.screenWidth-o._view.width)/2,o.setViewComponent(o._view),o._view&&o._view.addEventListener(t.UIEventConsts.USER_BET_CHIPS,o.uiHandle,o),o}return __extends(i,e),i.prototype.uiHandle=function(t){switch(t.type){}},i.prototype.onRegister=function(){e.prototype.onRegister.call(this)},i.prototype.onRemove=function(){e.prototype.onRemove.call(this),this._view&&(this._view.removeEventListener(t.UIEventConsts.USER_BET_CHIPS,this.uiHandle,this),this._view.destory())},i.prototype.listNotificationInterests=function(){return[t.AppFacadeConst.ROOM_INIT,t.AppFacadeConst.CHANGE_SPEED,t.AppFacadeConst.BET_REPLY,t.AppFacadeConst.RUN_RESULT,t.AppFacadeConst.LOTTERY_RESULT]},i.prototype.handleNotification=function(e){switch(e.getName()){case t.AppFacadeConst.ROOM_INIT:this._view&&this._view.setLogo(e.getBody());break;case t.AppFacadeConst.CHANGE_SPEED:this._view&&this._view.setAdd();break;case t.AppFacadeConst.BET_REPLY:this._view&&this._view.startGame();break;case t.AppFacadeConst.RUN_RESULT:this._view&&this._view.setData(e.getBody());break;case t.AppFacadeConst.LOTTERY_RESULT:this._view&&this._view.showLottery(e.getBody())}},i.NAME="GameMediator",i}(puremvc.Mediator);t.GameMediator=e,__reflect(e.prototype,"lhj.GameMediator")}(lhj||(lhj={}));var lhj;!function(t){var e=function(e){function i(n){var o=e.call(this,i.NAME,n)||this;return o._view=new t.InfoVc,t.GameInfo.uiLayer.addChild(o._view),o._view.scaleY=t.GameInfo.scaleY,o._view.width=1280*t.GameInfo.scaleY,o._view.x=(uniLib.Global.screenWidth-o._view.width)/2,o.setViewComponent(o._view),o._view,o}return __extends(i,e),i.prototype.uiHandle=function(e){switch(e.type){case t.UIEventConsts.GET_LOTTERY_HISTORY:}},i.prototype.onRegister=function(){e.prototype.onRegister.call(this)},i.prototype.onRemove=function(){e.prototype.onRemove.call(this),this._view&&(this._view.destory(),this._view=null)},i.prototype.listNotificationInterests=function(){return[t.AppFacadeConst.ROOM_INIT,t.AppFacadeConst.BET_REPLY,t.AppFacadeConst.LOTTERY_RESULT,t.AppFacadeConst.SELECT_BOX]},i.prototype.handleNotification=function(e){switch(e.getName()){case t.AppFacadeConst.ROOM_INIT:this._view&&this._view.initInfo(e.getBody());break;case t.AppFacadeConst.BET_REPLY:this._view&&this._view.setChips(e.getBody().chips);break;case t.AppFacadeConst.LOTTERY_RESULT:this._view&&(this._view.setChips(e.getBody().chips),this._view.setIncome(e.getBody().lotchips));break;case t.AppFacadeConst.SELECT_BOX:this._view&&this._view.setChips(e.getBody().chips)}},i.NAME="InfoMediator",i}(puremvc.Mediator);t.InfoMediator=e,__reflect(e.prototype,"lhj.InfoMediator")}(lhj||(lhj={}));var lhj;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.index=0,t.chipsArr=[],t.selectBet=1e3,t.time=0,t.isBet=!0,t.skinName="ButtonVcSkin",t.init(),t}return __extends(i,e),Object.defineProperty(i,"instance",{get:function(){return null==this._self&&(this._self=new i),this._self},enumerable:!0,configurable:!0}),i.prototype.init=function(){this.downTime=new egret.Timer(1e3),this.downTime.addEventListener(egret.TimerEvent.TIMER,this.countSecond,this),this.downTime.stop(),this.moreBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onMoreMenu,this),this.upBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.upBet,this),this.downBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.downBet,this),this.maxBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.setMax,this),this.startBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBet,this),this.startBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.startTime,this),this.startBtn.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.stopTime,this),this.addBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.changeSpeed,this),this.reduceBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.changeSpeed,this),this.speed_bg.touchEnabled=!0,this.speed_bg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.changeSpeed,this),this.AutoBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.stopAuto,this)},i.prototype.startTime=function(t){t.stopPropagation(),this.downTime&&(this.time=0,this.downTime.start())},i.prototype.stopTime=function(t){t.stopPropagation(),this.downTime&&this.downTime.stop(),this.time<3&&this.startGame(!1),this.time=0},i.prototype.onBet=function(t){t.stopPropagation(),this.startGame(!1)},i.prototype.countSecond=function(){this.time++,3==this.time&&(this.startGame(!0),this.AutoBtn.visible=!0,this.startBtn.visible=!1)},i.prototype.startGame=function(e){if(this.downTime&&(this.downTime.stop(),this.time=0),this.isBet)if(t.RoomInfo.getInstance().chips>=this.selectBet){var i=new Cmd.BetRequestCmd_C;i.autobet=e,i.betchips=this.selectBet,uniLib.NetMgr.tcpSend(i)}else t.PublicManage.getInstance().showCommonBuy(1)},i.prototype.initChip=function(e){this.chipsArr=e.betchips,this.selectBet=this.chipsArr[0],this.chipsTxt.text=t.ResUtil.simplifyNum(this.selectBet)},i.prototype.upBet=function(t){t.stopPropagation(),this.index++,this.setChip()},i.prototype.downBet=function(t){t.stopPropagation(),this.index--,this.setChip()},i.prototype.setChip=function(){this.index>6&&(this.index=6),this.index<0&&(this.index=0),this.selectBet=this.chipsArr[this.index],this.chipsTxt.text=t.ResUtil.simplifyNum(this.selectBet)},i.prototype.setMax=function(e){e.stopPropagation(),this.selectBet=this.chipsArr[0];for(var i=0;i<this.chipsArr.length;i++)t.RoomInfo.getInstance().chips>=this.chipsArr[i]&&(this.selectBet=this.chipsArr[i],this.chipsTxt.text=t.ResUtil.simplifyNum(this.selectBet))},i.prototype.onMoreMenu=function(e){var i=this;e.stopPropagation(),this.morePanel?this.removeMorePanel(null):(this.morePanel=new t.MoreMenuPanel,this.morePanel.scaleX=0,egret.Tween.get(this.morePanel).to({scaleX:1},100).call(function(){egret.Tween.removeTweens(i.morePanel)}),t.GameInfo.uiLayer.addChild(this.morePanel),this.morePanel.addEventListener(t.UIEventConsts.SHOW_HELP_PANEL,this.moreHandler,this),this.morePanel.addEventListener(t.UIEventConsts.SHOW_SETTING_PANEL,this.moreHandler,this),this.morePanel.addEventListener(t.UIEventConsts.EXIT_GAME,this.moreHandler,this),this.morePanel.addEventListener(t.UIEventConsts.CLOSE,this.removeMorePanel,this))},i.prototype.openAdd=function(e){e.stopPropagation(),t.RoomInfo.getInstance().isAdd=!0,this.addBtn.visible=!1,this.reduceBtn.visible=!0,this.speed_bg.source="lhj_open_bg"},i.prototype.closeAdd=function(e){e.stopPropagation(),t.RoomInfo.getInstance().isAdd=!1,this.addBtn.visible=!0,this.reduceBtn.visible=!1,this.speed_bg.source="lhj_close_bg"},i.prototype.stopAuto=function(t){var e=new Cmd.CancelAutoBetCmd_C;uniLib.NetMgr.tcpSend(e),this.AutoBtn.visible=!1,this.startBtn.visible=!0},i.prototype.changeSpeed=function(e){e.stopPropagation(),t.RoomInfo.getInstance().isAdd?(t.RoomInfo.getInstance().isAdd=!1,this.addBtn.visible=!0,this.reduceBtn.visible=!1,this.speed_bg.source="lhj_close_bg"):(t.RoomInfo.getInstance().isAdd=!0,this.addBtn.visible=!1,this.reduceBtn.visible=!0,this.speed_bg.source="lhj_open_bg")},i.prototype.removeMorePanel=function(e){this.morePanel&&(this.morePanel.removeEventListener(t.UIEventConsts.SHOW_HELP_PANEL,this.moreHandler,this),this.morePanel.removeEventListener(t.UIEventConsts.SHOW_SETTING_PANEL,this.moreHandler,this),this.morePanel.removeEventListener(t.UIEventConsts.EXIT_GAME,this.moreHandler,this),this.morePanel.removeEventListener(t.UIEventConsts.CLOSE,this.removeMorePanel,this),this.morePanel.destory(),this.morePanel=null)},i.prototype.moreHandler=function(t){this.dispatchEvent(t)},i.prototype.setBet=function(t){this.isBet=t,this.startBtn.enabled=t},i.prototype.destory=function(){this.removeMorePanel(null),this.moreBtn&&this.moreBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onMoreMenu,this),this.upBtn&&this.upBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.upBet,this),this.downBtn&&this.downBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.downBet,this),this.maxBtn&&this.maxBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.setMax,this),this.downTime&&(this.downTime.removeEventListener(egret.TimerEvent.TIMER,this.countSecond,this),this.downTime.stop(),this.downTime=null),this.startBtn&&(this.startBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBet,this),this.startBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.startTime,this),this.startBtn.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.stopTime,this)),this.addBtn&&this.addBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.changeSpeed,this),this.reduceBtn&&this.reduceBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.changeSpeed,this),this.speed_bg&&this.speed_bg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.changeSpeed,this),this.AutoBtn&&this.AutoBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.stopAuto,this),uniLib.DisplayUtils.removeAllChildren(this),uniLib.DisplayUtils.removeFromParent(this)},i.NAME="BUTTONVC",i._self=null,i}(eui.Component);t.ButtonVc=e,__reflect(e.prototype,"lhj.ButtonVc")}(lhj||(lhj={}));var lhj;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.destory=function(){egret.Tween.removeTweens(this),uniLib.DisplayUtils.removeFromParent(this),uniLib.DisplayUtils.removeAllChildren(this)},e}(eui.Component);t.EffectVc=e,__reflect(e.prototype,"lhj.EffectVc")}(lhj||(lhj={}));var lhj;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.index=0,t.order=-1,t.isBonus=!1,t.skinName="GameVcSkin",t.init(),t}return __extends(i,e),i.prototype.init=function(){this.listArr=[],this.container.mask=this.frame;for(var e=0;5>e;e++){var i=new t.LogoList(e);i.x=129.5+203*e,i.y=-164.5,this.container.addChild(i),this.listArr.push(i)}this.showTime=new egret.Timer(2e3),this.showTime.addEventListener(egret.TimerEvent.TIMER,this.showEffect,this),this.showTime.stop()},i.prototype.setLogo=function(t){for(var e=0;e<this.listArr.length;e++)this.listArr[e].setImage(t.gameinfo.whells[e].reels)},i.prototype.setData=function(t){this.isBonus=t.bonus;for(var e=0;e<t.idxs.length;e++)this.listArr[e].setData(t.idxs[e])},i.prototype.showLottery=function(t){this.data=t,this.showEffect(),this.showTime.start()},i.prototype.showEffect=function(){if(this.data.lotitems.length>0){for(var t=0;t<this.listArr.length;t++)this.listArr[t].removeLottery();this.order++;for(var e=this.data.lotitems[this.order].linereels,t=0;t<e.length;t++){var i=Math.floor((e[t]-1)/3),n=(e[t]-1)%3+1;this.listArr[i].showLight(n)}this.order==this.data.lotitems.length-1&&(this.order=-1)}},i.prototype.startGame=function(){this.isBonus=!1,this.showTime&&this.showTime.stop();for(var t=0;t<this.listArr.length;t++)this.listArr[t].removeLottery();this.stopRun(),this.index=0,this.data=null,this.order=-1,this.runTime=new egret.Timer(50,5),this.runTime.addEventListener(egret.TimerEvent.TIMER,this.runGame,this),this.runTime.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.stopRun,this),this.runTime.start()},i.prototype.runGame=function(){this.isBonus&&4==this.index?this.listArr[this.index].onBonus():this.listArr[this.index].startGame(),this.index++,this.index>4&&(this.index=0)},i.prototype.stopRun=function(){this.runTime&&(this.runTime.stop(),this.runTime.removeEventListener(egret.TimerEvent.TIMER,this.runGame,this),this.runTime.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.stopRun,this),this.runTime=null)},i.prototype.setAdd=function(){for(var t=0;t<this.listArr.length;t++)this.listArr[t].setTime()},i.prototype.destory=function(){this.runTime&&(this.runTime.stop(),this.runTime.removeEventListener(egret.TimerEvent.TIMER,this.runGame,this),this.runTime.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.stopRun,this),this.runTime=null),egret.Tween.removeTweens(this),uniLib.DisplayUtils.removeAllChildren(this),uniLib.DisplayUtils.removeFromParent(this)},i.NAME="GameVc",i}(eui.Component);t.GameVc=e,__reflect(e.prototype,"lhj.GameVc")}(lhj||(lhj={}));var lhj;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.skinName="InfoVcSkin",t.init(),t}return __extends(i,e),i.prototype.init=function(){},i.prototype.initInfo=function(e){this.nickTxt.text=e.myinfo.nickname,this.idTxt.text="ID:"+e.myinfo.uid,this.recordTxt.text="战绩:"+t.ResUtil.simplifyNum(e.myinfo.profit),this.chipsTxt.text="金币:"+t.ResUtil.simplifyNum(e.myinfo.chips),t.RoomInfo.getInstance().chips=e.myinfo.chips},i.prototype.setChips=function(e){this.chipsTxt.text="金币:"+t.ResUtil.simplifyNum(e),t.RoomInfo.getInstance().chips=e},i.prototype.setRecord=function(e){this.recordTxt.text="战绩:"+t.ResUtil.simplifyNum(e)},i.prototype.setIncome=function(e){this.incomeTxt.text=t.ResUtil.simplifyNum(e)},i.prototype.destory=function(){uniLib.DisplayUtils.removeFromParent(this),uniLib.DisplayUtils.removeAllChildren(this)},i.NAME="InfoVc",i}(eui.Component);t.InfoVc=e,__reflect(e.prototype,"lhj.InfoVc")}(lhj||(lhj={}));var Cmd=window.Cmd;!function(t){var e=function(){function t(){}return t.prototype.GetType=function(){return"Cmd.UserBriefInfo"},t}();t.UserBriefInfo=e,__reflect(e.prototype,"Cmd.UserBriefInfo");var i=function(){function t(){}return t.prototype.GetType=function(){return"Cmd.EnterGameCmd_C"},t}();t.EnterGameCmd_C=i,__reflect(i.prototype,"Cmd.EnterGameCmd_C");var n=function(){function t(){}return t.prototype.GetType=function(){return"Cmd.EnterGameCmd_S"},t}();t.EnterGameCmd_S=n,__reflect(n.prototype,"Cmd.EnterGameCmd_S");var o=function(){function t(){}return t.prototype.GetType=function(){return"Cmd.GameInfo"},t}();t.GameInfo=o,__reflect(o.prototype,"Cmd.GameInfo");var s=function(){function t(){}return t.prototype.GetType=function(){return"Cmd.WhellItem"},t}();t.WhellItem=s,__reflect(s.prototype,"Cmd.WhellItem");var r=function(){function t(){}return t.prototype.GetType=function(){return"Cmd.ExitGameCmd_C"},t}();t.ExitGameCmd_C=r,__reflect(r.prototype,"Cmd.ExitGameCmd_C");var h=function(){function t(){}return t.prototype.GetType=function(){return"Cmd.ExitGameCmd_S"},t}();t.ExitGameCmd_S=h,__reflect(h.prototype,"Cmd.ExitGameCmd_S");var a=function(){function t(){}return t.prototype.GetType=function(){return"Cmd.SetSpeedCmd_C"},t}();t.SetSpeedCmd_C=a,__reflect(a.prototype,"Cmd.SetSpeedCmd_C");var l=function(){function t(){}return t.prototype.GetType=function(){return"Cmd.SetSpeedCmd_S"},t}();t.SetSpeedCmd_S=l,__reflect(l.prototype,"Cmd.SetSpeedCmd_S");var c=function(){function t(){}return t.prototype.GetType=function(){return"Cmd.BetRequestCmd_C"},t}();t.BetRequestCmd_C=c,__reflect(c.prototype,"Cmd.BetRequestCmd_C");var u=function(){function t(){}return t.prototype.GetType=function(){return"Cmd.BetRequestCmd_S"},t}();t.BetRequestCmd_S=u,__reflect(u.prototype,"Cmd.BetRequestCmd_S");var d=function(){function t(){}return t.prototype.GetType=function(){return"Cmd.CancelAutoBetCmd_C"},t}();t.CancelAutoBetCmd_C=d,__reflect(d.prototype,"Cmd.CancelAutoBetCmd_C");var p=function(){function t(){}return t.prototype.GetType=function(){return"Cmd.CancelAutoBetCmd_S"},t}();t.CancelAutoBetCmd_S=p,__reflect(p.prototype,"Cmd.CancelAutoBetCmd_S");var _=function(){function t(){}return t.prototype.GetType=function(){return"Cmd.WhellResultCmd_S"},t}();t.WhellResultCmd_S=_,__reflect(_.prototype,"Cmd.WhellResultCmd_S");var m=function(){function t(){}return t.prototype.GetType=function(){return"Cmd.LotteryCmd_S"},t}();t.LotteryCmd_S=m,__reflect(m.prototype,"Cmd.LotteryCmd_S");var g=function(){function t(){}return t.prototype.GetType=function(){return"Cmd.LotteryItem"},t}();t.LotteryItem=g,__reflect(g.prototype,"Cmd.LotteryItem");var v=function(){function t(){}return t.prototype.GetType=function(){return"Cmd.SpecLotCmd_S"},t}();t.SpecLotCmd_S=v,__reflect(v.prototype,"Cmd.SpecLotCmd_S");var f=function(){function t(){}return t.prototype.GetType=function(){return"Cmd.PickSpecLotCmd_C"},t}();t.PickSpecLotCmd_C=f,__reflect(f.prototype,"Cmd.PickSpecLotCmd_C");var E=function(){function t(){}return t.prototype.GetType=function(){return"Cmd.PickSpecLotCmd_S"},t}();t.PickSpecLotCmd_S=E,__reflect(E.prototype,"Cmd.PickSpecLotCmd_S");var T=function(){function t(){}return t.prototype.GetType=function(){return"Cmd.FreeGameCmd_S"},t}();t.FreeGameCmd_S=T,__reflect(T.prototype,"Cmd.FreeGameCmd_S")}(Cmd||(Cmd={}));var lhj;!function(t){var e=function(){function t(){}return t.getStringByChips=function(t){if("0"==t||""==t||null==t)return"0";var e=/(\d)(?=(?:\d{3})+\b)/g,i=t.replace(e,"$1,");return i},t.getChipsFromString=function(t){for(;-1!=t.indexOf(",");)t=t.replace(",","");var e=parseInt(t);return e},t}();t.GameUtil=e,__reflect(e.prototype,"lhj.GameUtil")}(lhj||(lhj={}));var lhj;!function(t){var e=function(){function t(){}return t.randRange=function(t,e){var i=e-t,n=Math.floor(Math.random()*i);return t+n},t.randSeadRange=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},t.formatNum=function(t){var e;return e=t>=1e8?Math.floor(t/1e8)+"亿":t>=1e4?Math.floor(t/1e4)+"万":t>=1e3?Math.floor(t/1e3)+"千":t.toString()},t.Random_Seed=1,t}();t.MathClass=e,__reflect(e.prototype,"lhj.MathClass")}(lhj||(lhj={}));var lhj;!function(t){var e=function(){function e(){}return e.addPopUp=function(e,i,n,o,s,r,h){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===o&&(o=!0),void 0===s&&(s=0),void 0===r&&(r=0),void 0===h&&(h=!1),null==this._popUpMask&&(this._popUpMask=new egret.Sprite,this._popUpMask.graphics.beginFill(0,.3),this._popUpMask.graphics.drawRect(0,0,uniLib.Global.screenWidth,uniLib.Global.screenHeight),this._popUpMask.graphics.endFill(),this._popUpMask.touchEnabled=!0),i?this._popUpMask.visible=!0:this._popUpMask.visible=!1,h?(t.GameInfo.uiLayer.addChild(this._popUpMask),t.GameInfo.uiLayer.addChild(e)):(t.GameInfo.uiLayer.addChild(this._popUpMask),t.GameInfo.uiLayer.addChild(e));var a,l;n?(a=s?t.DataCache.defaultWidth-s>>1:t.DataCache.defaultWidth-e.width>>1,l=r?t.DataCache.defaultHeight*uniLib.ScreenUtils.scaleFactor-r>>1:t.DataCache.defaultHeight*uniLib.ScreenUtils.scaleFactor-e.height>>1):(a=e.x,l=e.y),o?(e.y=l+e.height/2,e.x=a+e.width/2,e.scaleX=0,e.scaleY=0,egret.Tween.removeTweens(e),egret.Tween.get(e).to({scaleX:1,scaleY:t.GameInfo.scaleY,x:(uniLib.Global.screenWidth-e.width)/2,y:(720-e.height)/3},150)):(e.x=a,e.y=l)},e.removePopUp=function(e,i){void 0===i&&(i=!1);var n=t.DataCache.defaultWidth-e.width>>1,o=t.DataCache.defaultHeight*uniLib.ScreenUtils.scaleFactor-e.height>>1;e.y=o+e.height/2,e.x=n+e.width/2,e.anchorOffsetX=e.width/2,e.anchorOffsetY=e.height/2,null!=this._popUpMask&&(this._popUpMask.visible=!1),i?(egret.Tween.removeTweens(e),egret.Tween.get(e).to({y:e.y-200,alpha:0}).call(this.removeTarget,this,[e])):e.parent&&egret.Tween.get(e).to({scaleX:0,scaleY:0},200).call(this.removeTarget,this,[e])},e.removeTarget=function(t){t.alpha=1,egret.Tween.removeTweens(t),t.parent&&t.parent.removeChild(t)},e}();t.PopupManager=e,__reflect(e.prototype,"lhj.PopupManager")}(lhj||(lhj={}));var lhj;!function(t){var e=function(){function e(){this.showList=[]}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.showMildWarnShow=function(t){t&&uniLib.TipsUtils.showTipsDownToUp(t)},e.prototype.getContainer=function(){return t.GameInfo.topLayer?t.GameInfo.topLayer:uniLib.SceneMgr.instance.currentScene.topLayer?uniLib.SceneMgr.instance.currentScene.topLayer:uniLib.SceneMgr.instance.currentScene},e.prototype.removeStage=function(t){var e=t.currentTarget;e.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.removeStage,this),this.showList.splice(this.showList.indexOf(e),1),e.destory(),e=null},e.prototype.showConfirmPanel=function(e,i,n,o,s,r,h){void 0===n&&(n=null),void 0===o&&(o=null),void 0===r&&(r=0),void 0===h&&(h=!0),this._msgTips&&(this._msgTips.destory(),this._msgTips=null),this._msgTips=new t.MsgBox(h),o||(o=""),this._msgTips.setData(o,e,i,n,s,r),this._msgTips.x=Math.round((t.DataCache.defaultWidth-this._msgTips.width)/2),this._msgTips.y=Math.round((t.DataCache.defaultHeight*uniLib.ScreenUtils.scaleFactor-this._msgTips.height)/2),t.PopupManager.addPopUp(this._msgTips,!0)},e.prototype.showMask=function(){this.maskMc||(this.maskMc=new egret.Sprite,this.maskMc.graphics.beginFill(0,.5),this.maskMc.graphics.drawRect(0,0,t.DataCache.defaultWidth,t.DataCache.defaultHeight),this.maskMc.graphics.endFill()),t.GameInfo.topLayer.addChild(this.maskMc)},e.prototype.hideMask=function(){this.maskMc&&t.GameInfo.topLayer.removeChild(this.maskMc)},e.prototype.showMarket=function(){},e.prototype.backHall=function(){},e.prototype.showVideoCommonPanel=function(e,i,n,o,s,r,h){void 0===n&&(n=null),void 0===o&&(o=null),void 0===r&&(r=0),void 0===h&&(h=!0);var a=new t.MsgBox(!0);a.setData(o,e,i,n,s,r),a.x=Math.round((t.DataCache.defaultWidth-a.width)/2),a.y=Math.round((t.DataCache.defaultHeight*uniLib.ScreenUtils.scaleFactor-a.height)/2),t.PopupManager.addPopUp(a,!0,!1,!0,0,0,!0)},e.prototype.showCommonBuy=function(e,i){this._guideBuy&&(this._guideBuy.destory(),this._guideBuy=null),this._guideBuy||(this._guideBuy=new t.BuyPanel,this._guideBuy.setType(e,i),this._guideBuy.addEventListener(t.UIEventConsts.CLOSE,this.removeBuyCoins,this),t.PopupManager.addPopUp(this._guideBuy,!0,!0,!0))},e.prototype.removeBuyCoins=function(){this._guideBuy&&(this._guideBuy.removeEventListener(t.UIEventConsts.CLOSE,this.removeBuyCoins,this),t.PopupManager.removePopUp(this._guideBuy))},e}();t.PublicManage=e,__reflect(e.prototype,"lhj.PublicManage")}(lhj||(lhj={}));var lhj;!function(t){var e=function(){function t(){}return t.getURLData=function(){if(!this.initParams){this.initParams={};var e=window.location.search;if(""==e)return;if("?"==e.charAt(0)){e=e.slice(1),t.trace("getURLData"+e);for(var i,n=e.split(/&/),o=0;o<n.length;o++)i=n[o].split(/=/),2==i.length&&(this.initParams[i[0]]=i[1],t.trace("getURLData1"+i[0],i[1]))}}return this.initParams},t.createBitmapByName=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var n=new egret.Bitmap,o=RES.getRes(t);return n.texture=o,n.smoothing=!0,n.x=e,n.y=i,n},t.createTexture=function(t){var e=RES.getRes(t);return e},t.trace=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];uniLib.Console.log(t.join(","))},t.randRange=function(t,e){var i=e-t,n=Math.floor(Math.random()*i);return t+n},t.backToNumber=function(t){var e=/,/g;return t=t.replace(e,""),Math.round(Number(t))},t.getCharLength=function(t){var e=new egret.ByteArray;return e.writeUTF(t),e.position=0,e.bytesAvailable},t.createMovieClip=function(t,e,i){var n,o=RES.getRes(e),s=RES.getRes(i),r=new egret.MovieClipDataFactory(o,s);return n=new egret.MovieClip(r.generateMovieClipData(t)),n.gotoAndStop(1),n.name=t,n},t.createTextFeild=function(t,e,i,n,o,s,r,h,a){void 0===o&&(o=0),void 0===s&&(s=0),void 0===r&&(r=-1),void 0===h&&(h=!1),void 0===a&&(a=0);var l=new egret.TextField;return-1!=r&&(l.width=r),l.fontFamily="微软雅黑",l.bold=h,l.textColor=t,l.textAlign=e,l.text=i,l.size=n,l.lineSpacing=a,l.x=o,l.y=s,l.multiline=!1,l},t.createFontText=function(t,e,i,n,o){void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=-1),o||(o=RES.getRes("betTipText_fnt"));var s=new egret.BitmapText;return-1!=n&&(s.width=n),s.font=o,s.text=t,s.x=e,s.y=i,s},t.createScroll=function(t,e,i,n,o){void 0===n&&(n=0),void 0===o&&(o=0);var s=new egret.ScrollView;return s.width=e,s.height=i,s.x=n,s.y=o,s.setContent(t),s},t.removeFromParent=function(t){t&&t.parent&&t.parent.removeChild(t)},t.removeAllChildren=function(t){for(;t.numChildren>0;)this.removeFromParent(t.getChildAt(0))},t.changeYAxis=function(t){return uniLib.Global.screenHeight-(720-t)},t.currencyFormat=function(t,e){void 0===e&&(e=-1);var i=Math.abs(t).toString(),n="";0>t&&(n="-");var o="";if(i.indexOf(".")>-1&&(o=i.substring(i.indexOf("."),i.length),i=i.substring(0,i.indexOf("."))),-1!=e)for(;i.length<e;)i="0"+i;for(var s=i.split(""),r=s.length,h=1,a=r-1;a>0;a--,h++)h/3==1&&(h=0,s[a]=","+s[a]);return n+s.join("")+o},t.getTimeStr2=function(){var t=new Date,e=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+" >>> ";return e},t.numFormat=function(t,e){void 0===e&&(e=0);var i,n="",o="";0>t&&(t=-t,o="-");var s,r;s=[1e9,1e6,1e3],r=["B","M","K"],i=String(t);for(var h=0;h<s.length;h++)if(t>=s[h]){n=r[h],i=-1==e?String(t/s[h]):String(this.setDot(t/s[h],e));break}if(-1!=i.indexOf(".")){for(var a=0;e>a;a++)0==Number(i.charAt(i.length-1))&&(i=a+1==e?i.slice(0,i.length-2):i.slice(0,i.length-1));"."==i.charAt(i.length-1)&&(i=i.slice(0,i.length-1))}return o+i.concat(n)},t.numFormat2=function(t,e){void 0===e&&(e=0);var i,n="",o="";0>t&&(t=-t,o="-");var s,r;s=[1e8,1e4,1e3],r=["亿","万","千"],i=String(t);for(var h=0;h<s.length;h++)if(t>=s[h]){n=r[h],i=-1==e?String(t/s[h]):String(this.setDot(t/s[h],e));break}if(-1!=i.indexOf(".")){for(var a=0;e>a;a++)0==Number(i.charAt(i.length-1))&&(i=a+1==e?i.slice(0,i.length-2):i.slice(0,i.length-1));"."==i.charAt(i.length-1)&&(i=i.slice(0,i.length-1))}return o+i.concat(n)},t.setDot=function(t,e){return void 0===e&&(e=-1),e>0?Math.floor(t*Math.pow(10,e))/Math.pow(10,e):0==e?Math.floor(t):t},t.numberFormat=function(t){var e;return 1e6>=t?e=""+t:t>1e6&&1e8>=t?(e=(t/1e4).toString(),e="."==e.charAt(4)?e.substr(0,4)+"万":e.substr(0,5)+"万"):(e=(t/1e8).toString(),e="."==e.charAt(4)?e.substr(0,4)+"亿":e.substr(0,5)+"亿"),e},t.simplifyNum=function(t){var e;return e=""+t,(t>=1e4&&1e8>t||-1e4>=t&&t>-1e8)&&(e=this.removeZero((t/1e4).toFixed(2),"万")),(t>=1e8||-1e8>=t)&&(e=this.removeZero((t/1e8).toFixed(2),"亿")),e},t.removeZero=function(t,e){var i=t;return"0"==t.charAt(t.length-1)&&(i=i.substr(0,i.length-1),"0"==i.charAt(i.length-1)&&(i=i.substr(0,i.length-1),"."==i.charAt(i.length-1)&&(i=i.substr(0,i.length-1)))),i+=e},t.getVipColor=function(t){var e=16777215;return e=t>6?16711680:t>3?255:t>0?16776960:16777215},t.createDragon=function(t,e,i,n,o,s,r,h,a){var l=RES.getRes(t+"_ske_json"),c=RES.getRes(t+"_tex_json"),u=RES.getRes(t+"_tex_png"),d=new dragonBones.EgretFactory;d.parseDragonBonesData(l),d.parseTextureAtlasData(c,u);var p=d.buildArmatureDisplay(i);return p.armature.cacheFrameRate=24,r=r?r:0,p.animation.play(e,r),s.addChild(p),p.x=n,p.y=o,p},t.createDragonBones=function(t,e,i,n,o,s,r,h){var a;if(egret.Capabilities.engineVersion>"5.0"){var l=RES.getRes(t),c=RES.getRes(e),u=RES.getRes(i),d=new dragonBones.EgretFactory;d.parseDragonBonesData(l),d.parseTextureAtlasData(c,u),a=d.buildArmature(n),a.display.disableBatch()}else a=uniLib.DisplayUtils.createDragonBonesDisplay(t,e,i,n);return a.display.x=o,a.display.y=s,a.display.scaleX=r,a.display.scaleY=h,a},t}();t.ResUtil=e,__reflect(e.prototype,"lhj.ResUtil")}(lhj||(lhj={})),window.lhj=lhj;